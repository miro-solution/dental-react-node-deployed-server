(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{553:function(e,t,n){},602:function(e,t,n){},603:function(e,t,n){},604:function(e,t,n){},606:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),i=n(101),c=n.n(i),o=n(181),s=n(92),l=(n(552),n(50)),d=n(49),u=n(672),m=n(610),j=n(422),b=n(174),h=n(184),p=n(445),x=Object(b.b)({typography:{fontFamily:'"Roboto"',fontSize:12,h1:{},subtitle1:{fontWeight:"bold"}},palette:{primary:{main:h.a.A700,light:h.a[400]},secondary:{main:"#d8e2f2",light:"#ebf2ff"},purple:{main:p.a.A200}},overrides:{MuiOutlinedInput:{root:{},adornedEnd:{paddingRight:0}}}}),f=n(12),O=n(60),g=n(186),v=n(447),y=n(449),C=n(652),N=n(450),w=n(650),S=n(651),k=n(80),T=n(63),D=new(function(){function e(){Object(k.a)(this,e),this.authenticated=!1,this.sub=null,this.email=null,this.name=null,this._id=null,this.picture=null}return Object(T.a)(e,[{key:"login",value:function(e,t){this.authenticated=!0,e()}},{key:"logout",value:function(e){this.authenticated=!1,e()}},{key:"isAuthenticated",value:function(){return this.authenticated}},{key:"getSub",value:function(){return this.sub}},{key:"getEmail",value:function(){return this.email}},{key:"getName",value:function(){return this.name}},{key:"getToken",value:function(){return this.token}}]),e}()),z={loginHeader:{textAlign:"center"},paper:{width:"30%",height:"480px",display:"flex",justifyContent:"space-around",flexDirection:"column",margin:"0 auto",padding:"1.5rem"},helpText:{marginTop:"1rem",textAlign:"center","& a":{color:"orange"}},visibleIconbutton:{padding:0,MuiIconButton:{root:{padding:0}}},"@media (max-width: 600px)":{paper:{width:"85%"}},"@media (min-width: 601px)":{paper:{width:"55%"}},"@media (min-width: 700px)":{paper:{width:"400px"}}},E="USER_LOGIN",P=(n(553),n(1)),I=function(e){var t=e.buttonType,n=e.click;return Object(P.jsx)("div",{id:"authButton",className:"buttonContainer",onClick:n,children:Object(P.jsx)("span",{children:"login"===t?"Login":"Register"})})},A=n(670),B="localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname?"http://127.0.0.1:8000":"https://dentoconnect.herokuapp.com",_="localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname?"http://127.0.0.1:8001":"https://dentoconnect-dialogflow.herokuapp.com/",W="".concat(B,"/api/user"),M="".concat(B,"/api/user/login"),R="".concat(B,"/api/user/register"),F="".concat(B,"/api/user/uniqueUrl"),L="".concat(B,"/api/user/profile"),H="".concat(B,"/api/user/afterprofile"),q="".concat(B,"/api/user/meetings"),U="".concat(B,"/api/appointments"),V="".concat(B,"/api/appointments/get_appoitment"),Y="".concat(B,"/api/availability/timeslots"),G="".concat(B,"/api/availability/days"),Z="".concat(B,"/api/subscription"),K="".concat(B,"/api/subscription/unsubscribe"),J="".concat(B,"/api/appointmenttype"),$="".concat(_,"/getcalllog"),Q="".concat(_,"/getcallrecordfile"),X=function(e){return A.a.get("".concat(W,"/").concat(e)).then((function(e){return e})).catch((function(e){return{error:e.response.data}}))},ee=function(e,t){return A.a.delete("".concat(q,"/?user=").concat(e,"&id=").concat(t)).then((function(e){return e})).catch((function(e){return{error:e.response.data}}))},te=function(){return A.a.get("".concat(W)).then((function(e){return e})).catch((function(e){return{error:e.response.data}}))},ne=Object(u.a)(z)((function(e){var t=e.classes,n=e.type1,i=Object(o.b)(),c=r.a.useState(!1),u=Object(f.a)(c,2),m=u[0],j=u[1],b=Object(a.useState)(),h=Object(f.a)(b,2),p=h[0],x=h[1],k=Object(a.useState)(),T=Object(f.a)(k,2),z=T[0],B=T[1],_=Object(a.useState)(),W=Object(f.a)(_,2),F=W[0],L=W[1],H=Object(a.useState)(),q=Object(f.a)(H,2),U=q[0],V=q[1],Y=Object(a.useState)(),G=Object(f.a)(Y,2),Z=G[0],K=G[1],J=Object(a.useState)(""),$=Object(f.a)(J,2),Q=$[0],X=$[1],ee="login"===Q,te=Object(d.g)();Object(a.useEffect)((function(){"login"===n&&X("login")}),[]);var ne={header:"Ins Konto einloggen",helpText:"Sie haben kein Konto?",redirectText:"Sign Up",redirectPath:"/signup",handleClick:function(){var e;(e={email:z,password:U},A.a.post(M,e)).then((function(e){201===e.status?D.login((function(){201===e.status&&(D.sub=e.data._id,D.email=e.data.email,D.phone=e.data.phone,D.name=e.data.fullName,D.token=e.data.access_token,i({type:E,payload:e.data}),te.push("/dashboard"))})):s.toast.error("Email or Password Error!")})).catch((function(e){return s.toast.error("Email or Password Error!")}))}},ae={header:"Einen Account registrieren",helpText:"Sie haben bereits ein Konto? ",redirectText:"Login",redirectPath:"/login",handleClick:function(){Z!==U||""===Z&&""===U&&""===p&&""===z?s.toast.error("Please enter user information correctly!"):function(e){return A.a.post(R,e)}({name:p,email:z,phone:F,password:U}).then((function(e){201===e.status?D.login((function(){D.sub=e.data._id,D.phone=e.data.phone,D.email=e.data.email,D.name=e.data.fullName,D.token=e.data.access_token,i({type:E,payload:e.data}),te.push("/profile_settings")})):s.toast.error("Email Already Exist!")})).catch((function(e){return s.toast.error("Email Already Exist!")}))}};return Object(P.jsxs)(g.a,{elevation:6,className:t.paper,children:[Object(P.jsx)("h2",{className:t.loginHeader,children:ee?ne.header:ae.header}),"login"===Q?Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(v.a,{name:"email",label:"E-mail",type:"text",variant:"outlined",value:z,onChange:function(e){return B(e.target.value)},InputProps:{startAdornment:Object(P.jsx)(y.a,{position:"start",children:Object(P.jsx)(O.f,{})})}}),Object(P.jsx)(v.a,{name:"password",label:"Passwort",variant:"outlined",margin:"normal",type:!0===m?"text":"password",value:U,onChange:function(e){return V(e.target.value)},InputProps:{startAdornment:Object(P.jsx)(y.a,{position:"start",children:Object(P.jsx)(O.c,{})}),endAdornment:Object(P.jsx)(y.a,{style:{padding:0},position:"start",component:"div",children:!0===m?Object(P.jsx)("div",{style:{cursor:"pointer"},onClick:function(e){j(!1)},className:t.visiblediv,children:Object(P.jsx)(w.a,{style:{padding:0}})}):Object(P.jsx)("div",{style:{cursor:"pointer"},onClick:function(e){return j(!0)},children:Object(P.jsx)(S.a,{})})})}})]}):Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(v.a,{name:"fullname",label:"Name",type:"text",variant:"outlined",value:p,size:"small",margin:"normal",onChange:function(e){return x(e.target.value)},InputProps:{startAdornment:Object(P.jsx)(y.a,{position:"start",children:Object(P.jsx)(O.h,{})})}}),Object(P.jsx)(v.a,{name:"email",label:"E-mail",type:"text",variant:"outlined",value:z,size:"small",margin:"normal",onChange:function(e){return B(e.target.value)},InputProps:{startAdornment:Object(P.jsx)(y.a,{position:"start",children:Object(P.jsx)(O.f,{})})}}),Object(P.jsx)(v.a,{name:"phone",label:"Phone Number",type:"number",variant:"outlined",value:F,size:"small",margin:"normal",onChange:function(e){return L(e.target.value)},InputProps:{startAdornment:Object(P.jsx)(y.a,{position:"start",children:Object(P.jsx)(O.d,{})})}}),Object(P.jsx)(v.a,{name:"password",label:"Passwort",type:!0===m?"text":"password",variant:"outlined",value:U,size:"small",autoFocus:!0,margin:"normal",onChange:function(e){return V(e.target.value)},InputProps:{startAdornment:Object(P.jsx)(y.a,{position:"start",children:Object(P.jsx)(O.c,{})}),endAdornment:Object(P.jsx)(y.a,{className:t.adornment,position:"start",component:"div",children:!0===m?Object(P.jsx)("div",{style:{cursor:"pointer"},onClick:function(e){j(!1)},children:Object(P.jsx)(w.a,{})}):Object(P.jsx)("div",{style:{cursor:"pointer"},onClick:function(e){return j(!0)},children:Object(P.jsx)(S.a,{})})})}}),Object(P.jsx)(v.a,{name:"confirm",label:"Best\xe4tigen Passwort",type:!0===m?"text":"password",variant:"outlined",value:Z,autoFocus:!0,size:"small",margin:"normal",onChange:function(e){return K(e.target.value)},InputProps:{startAdornment:Object(P.jsx)(y.a,{position:"start",children:Object(P.jsx)(O.c,{})}),endAdornment:Object(P.jsx)(y.a,{className:t.adornment,position:"start",component:"div",children:!0===m?Object(P.jsx)("div",{style:{cursor:"pointer"},onClick:function(e){j(!1)},children:Object(P.jsx)(w.a,{})}):Object(P.jsx)("div",{style:{cursor:"pointer"},onClick:function(e){return j(!0)},children:Object(P.jsx)(S.a,{})})})}})]}),Object(P.jsx)(I,{buttonType:n,click:ee?ne.handleClick:ae.handleClick}),Object(P.jsxs)(C.a,{style:{marginTop:10},children:[Object(P.jsx)(N.a,{}),Object(P.jsxs)(C.a,{className:t.helpText,children:[ee?ne.helpText:ae.helpText,Object(P.jsx)(l.b,{to:"login"===Q?ne.redirectPath:ae.redirectPath,onClick:function(){X("login"===Q?"signup":"login")},children:ee?ne.redirectText:ae.redirectText})]})]})]})})),ae=n(65),re=n.n(ae),ie=n(495),ce=n(294),oe=n(105),se=n(455),le=n(611),de=n(267),ue=n(66),me=function(e){return{paper:{width:"100%",height:"700px",maxWidth:"1000px",display:"flex",justifyContent:"space-between",flexDirection:"row",margin:"5rem auto"},backButton:{fontSize:"2rem",padding:"0",color:e.palette.primary.light,marginBottom:"2rem"},name:{color:"gray",letterSpacing:"1px",fontWeight:"bold",marginBottom:"0.5rem"},meetingName:{color:"#484848",textTransform:"capitalize",fontWeight:"bold",letterSpacing:"1px",marginBottom:"0.5rem"},meetingInfo:{flex:"0 0 35%",padding:"1.5rem",borderRight:"1px solid #eee"},meetingDuration:{color:"gray",display:"flex",alignItems:"center",marginBottom:"1rem","& span":{marginLeft:"0.5rem",fontWeight:"bold"}},eventDetails:{fontSize:"1rem","& div":{padding:"0.2rem 0rem"}},eventTime:{color:e.palette.purple.main,fontWeight:"bold",marginBottom:"0.5rem",display:"flex","& span":{marginLeft:"0.5rem"}},timeZone:{display:"flex",color:"gray",fontWeight:"bold","& span":{marginLeft:"0.5rem"}},form:{width:"66%"},confirmForm:{flex:"0 0 65%",padding:"1.5rem",flexDirection:"column"},textField:{width:"100%"},textArea:{padding:"0.5rem",fontSize:"0.8rem",borderRadius:"5px",border:"1px solid #bbb",width:"100%",outline:"none",height:"100px !important","&:hover":{border:"1px solid black"},"&:focus":{border:"2px solid ".concat(e.palette.primary.main)}},button:{background:"linear-gradient(to right, ".concat(e.palette.primary.main,", ").concat(e.palette.primary.light,")"),color:"#eee",fontSize:"1rem",textTransform:"none",padding:"0.5rem 1rem",margin:"1rem 0 0.5rem 0",width:"100%"},"@media (max-width: 1080px)":{paper:{flexDirection:"column",position:"relative",height:"100%"},backButton:{position:"absolute",top:"1rem",left:"1rem"},meetingInfo:{flex:"auto",display:"flex",flexDirection:"column",alignItems:"center",borderBottom:"1px solid #ccc","& h1, & h4":{margin:"0.2rem 0"}},eventDetails:{width:"100%",display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center","& div":{padding:"0 1rem"}},confirmForm:{flex:"auto",display:"flex",flexDirection:"column",alignItems:"center"}},"@media (max-width: 600px)":{eventDetails:{flexDirection:"column",alignItems:"left","& div":{padding:"0 0.5rem"}},form:{width:"90%"}}}},je=function(){return{headers:{"x-access-token":D.getToken()}}},be=function(e,t){var n=je();return A.a.get("".concat(U,"/").concat(e,"?timezone=").concat(t),n).then((function(e){return e})).catch((function(e){return{error:e.response.data}}))},he=function(e,t){var n=je();return A.a.get("".concat(V,"/").concat(e,"?timezone=").concat(t),n).then((function(e){return e})).catch((function(e){return{error:e.response.data}}))},pe=function(e){var t=je();return A.a.post(U,e,t).then((function(e){return e})).catch((function(e){return{error:e.response.data}}))},xe=function(e){return A.a.get("".concat(J,"/?subscribe=").concat(e)).then((function(e){return e})).catch((function(e){return{error:e.response.data}}))};var fe=Object(u.a)(me)((function(e){var t=e.classes,n=(Object(a.useRef)(),Object(d.h)()),i=Object(d.i)().url,c=n.state.clientTz,o=ae.tz(n.state.time,c),s=o.format(),l="".concat(o.format("h:mma")," - ").concat(o.add(n.state.meeting.duration,"m").format("h:mma"),"\n  ").concat(["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][o.day()],", ").concat(["January","February","March","April","May","June","July","August","September","October","November","December"][o.month()]," ").concat(o.date(),", ").concat(o.year()),u=Object(a.useState)(""),m=Object(f.a)(u,2),j=m[0],b=m[1],h=Object(a.useState)(""),p=Object(f.a)(h,2),x=p[0],v=p[1],y=Object(a.useState)(""),C=Object(f.a)(y,2),N=C[0],w=C[1],S=r.a.useState(""),k=Object(f.a)(S,2),T=k[0],D=k[1],z=r.a.useState(),E=Object(f.a)(z,2),I=E[0],A=(E[1],Object(a.useState)([{_id:"",fullname:""}])),B=Object(f.a)(A,2),_=B[0],W=B[1],M=Object(a.useState)([{_id:"",title:""}]),R=Object(f.a)(M,2),F=(R[0],R[1]);Object(a.useEffect)((function(){"demo"===i&&alert("This is a demo account. Scheduling an event will not add it to any google accounts.")}),[i]),Object(a.useEffect)((function(){te().then((function(e){W(e.data.docs)})).catch((function(e){console.log(e)})),xe("a").then((function(e){F(e.data.docs)})).catch((function(e){return console.log(e)}))}),[]);var L=Object(d.g)();return Object(P.jsxs)(g.a,{elevation:6,className:t.paper,children:[Object(P.jsxs)("div",{className:t.meetingInfo,children:[Object(P.jsx)(ce.a,{className:t.backButton,"aria-label":"back-to-scheduler",onClick:function(){L.push("/".concat(i,"/").concat(n.state.meeting._id,"/").concat(n.state.meeting.duration))},children:Object(P.jsx)(ie.a,{size:45})}),Object(P.jsx)(oe.a,{variant:"h6",className:t.name,children:n.state.name}),Object(P.jsx)(oe.a,{variant:"h4",className:t.meetingName,children:n.state.meeting.meetingName}),Object(P.jsxs)("div",{className:t.eventDetails,children:[Object(P.jsxs)("div",{className:t.meetingDuration,children:[Object(P.jsx)(O.a,{size:23}),Object(P.jsxs)("span",{children:[n.state.meeting.duration," min"]})]}),Object(P.jsxs)("div",{className:t.eventTime,children:[Object(P.jsx)(O.e,{size:23})," ",Object(P.jsx)("span",{children:l})]}),Object(P.jsxs)("div",{className:t.timeZone,children:[Object(P.jsx)(O.b,{size:23}),Object(P.jsx)("span",{children:c.replace("_"," ")+" (GMT"+ae.tz(c).format("Z")+")"})]})]})]}),Object(P.jsxs)("div",{className:t.confirmForm,children:[Object(P.jsx)("h2",{children:"Enter Details"}),Object(P.jsxs)(ue.ValidatorForm,{className:t.form,onSubmit:function(){var e={guestName:j,guestEmail:x,guestComment:N,guestTz:c,meetingName:n.state.meeting.meetingName,meetTime:n.state.meeting.duration,apptTime:s,url:i,dentist:T,eventSchedule:I};pe(e).then((function(e){201!==e.status?L.push("/".concat(i,"/").concat(n.state.meeting.duration)):L.push("/finish",{url:i,name:n.state.name,meetingName:n.state.meeting.meetingName,apptTime:l,timezone:n.state.clientTz})}))},children:[Object(P.jsx)("div",{style:{marginTop:"0.8rem",marginBottom:"0.2rem"},children:"Dentist:"}),Object(P.jsx)(ue.SelectValidator,{value:T,name:"dentist",variant:"outlined",fullWidth:!0,onChange:function(e){return D(e.target.value)},validators:["required"],errorMessages:["Dentist field is required"],children:_.map((function(e,t){return Object(P.jsx)(se.a,{value:e._id,children:e.fullName},t)}))}),Object(P.jsx)("div",{style:{marginTop:"0.8rem",marginBottom:"0.2rem"},children:"Name:"}),Object(P.jsx)(ue.TextValidator,{className:t.textField,id:"name-field",variant:"outlined",name:"nameField",value:j,validators:["required"],errorMessages:["Name field is required"],onChange:function(e){b(e.target.value)}}),Object(P.jsx)("div",{style:{marginTop:"0.8rem",marginBottom:"0.2rem"},children:"Email: "}),Object(P.jsx)(ue.TextValidator,{className:t.textField,variant:"outlined",onChange:function(e){v(e.target.value)},name:"email",value:x,validators:["required","isEmail"],errorMessages:["Email field is required","email is not valid"]}),Object(P.jsx)("div",{style:{marginTop:"0.8rem",marginBottom:"0.2rem"},children:"Meeting Notes: "}),Object(P.jsx)(le.a,{className:t.textArea,"aria-label":"meeting-comments",onChange:function(e){return w(e.target.value)}}),Object(P.jsx)("div",{style:{marginTop:"1rem",marginBottom:"0.2rem"}}),Object(P.jsx)(de.a,{className:t.button,variant:"contained",type:"submit",color:"primary",children:"Schedule Event"})]})]})]})})),Oe=n(28),ge=n(496),ve=["component"];var ye=function(e){var t=e.component,n=Object(ge.a)(e,ve);return Object(P.jsx)(d.b,Object(Oe.a)(Object(Oe.a)({},n),{},{render:function(e){return D.isAuthenticated()?Object(P.jsx)(t,Object(Oe.a)({},n)):Object(P.jsx)(d.a,{to:"/login"})}}))},Ce=n(456);var Ne=Object(u.a)((function(e){return{root:{flex:"0 0 40%",alignSelf:"center",height:"0.5rem",borderRadius:"5px"},colorPrimary:{backgroundColor:"#ccc"},barColorPrimary:{backgroundColor:e.palette.primary.main,borderRadius:"5px"}}}))((function(e){var t=e.classes,n=e.activeStep;return Object(P.jsx)(Ce.a,{classes:{root:t.root,colorPrimary:t.colorPrimary,barColorPrimary:t.barColorPrimary},variant:"determinate",value:n})})),we=n(457),Se=n(416),ke={paper:{width:"90%",height:"400px",display:"flex",justifyContent:"space-around",flexDirection:"column",margin:"0 auto",padding:"0 1.5rem"},headRow:{display:"flex",flexDirection:"column",height:"5rem"},headContent:{height:"100%",display:"flex",justifyContent:"space-between",flexDirection:"row","& h2":{flex:"0 0 50%",alignSelf:"center"}},urlField:{"& input":{borderLeft:"1px solid #eee",paddingLeft:"0.8rem"}},btnContainer:{margin:"auto"},connectedPage:{margin:"0 0 2rem 0",display:"flex",flexDirection:"column",flexGrow:1,"& h3":{padding:"1rem 1rem 1rem 0",margin:"0.5rem 0 0 0",flexGrow:1},"& div":{padding:"1rem 1rem 1rem 1.5rem",margin:"0.5rem 0 0 0",flexGrow:1,"& span":{fontWeight:"bold"}}},hoursRow:{display:"flex",flexDirection:"row","& span":{fontSize:"1rem",padding:" 0 5% 0 5%",alignSelf:"center"}},checkBoxGroup:{border:"1px solid #ccc",borderRadius:"5px","& label:last-child":{border:"none"},justifyContent:"center"},checkBoxLabel:{borderRight:"1px solid #eee",margin:"0px",padding:"0.2rem 0 0.5rem 0",flex:"0 0 14.28%"},checkBoxLabelLabel:{fontSize:"0.7rem"}};var Te=Object(u.a)((function(e){return{root:{background:"linear-gradient(to right, ".concat(e.palette.primary.main,", ").concat(e.palette.primary.light,")"),color:"#eee",textTransform:"none",width:"8rem",height:"2.5rem",alignSelf:"center",margin:"1rem 0 0.5rem 0"}}}))((function(e){var t=e.classes,n=e.submitForm,a=e.text;return Object(P.jsx)(de.a,{className:t.root,onClick:n,children:a})}));var De=Object(u.a)(ke)((function(e){var t=e.classes,n=e.url,a=e.setUrl,r=e.setTimeZone,i=e.btnText,c=e.handleProfileSubmit;return Object(P.jsxs)(Se.a,{container:!0,spacing:2,alignItems:"center",children:[Object(P.jsx)(Se.a,{item:!0,xs:12,sm:4,children:Object(P.jsx)("div",{children:"Erstellen Sie Ihre Dentoconnect -URL: "})}),Object(P.jsx)(Se.a,{item:!0,xs:12,sm:8,children:Object(P.jsx)(v.a,{className:t.urlField,id:"url-field",variant:"outlined",value:n,onChange:function(e){return a(e.target.value)},InputProps:{startAdornment:Object(P.jsx)(y.a,{className:t.adornment,position:"start",component:"div",children:"http://dentoconnect.herokuapp.com/"})}})}),Object(P.jsx)(Se.a,{item:!0,xs:12,sm:4,children:Object(P.jsx)("div",{children:"W\xe4hlen Sie Ihre Zeitzone aus: "})}),Object(P.jsx)(Se.a,{item:!0,xs:12,sm:8,children:Object(P.jsx)(we.a,{id:"timezone-field",options:re.a.tz.names(),getOptionLabel:function(e){return e+" (GMT"+re.a.tz(e).format("Z")+")"},renderInput:function(e){return Object(P.jsx)(v.a,Object(Oe.a)(Object(Oe.a)({},e),{},{label:"Type a city or zone",variant:"outlined"}))},onChange:function(e,t){return r(t)}})}),Object(P.jsx)("div",{className:t.btnContainer,children:Object(P.jsx)(Te,{text:i,submitForm:c})})]})}));var ze=Object(u.a)(ke)((function(e){var t=e.btnText,n=e.handleConfirmSubmit,a=e.classes,r=e.email;return Object(P.jsxs)("div",{className:a.connectedPage,children:[Object(P.jsxs)("h3",{children:["Here's how Dentoconnect will work with ",Object(P.jsx)("span",{children:r}),":"]}),Object(P.jsx)(N.a,{}),Object(P.jsxs)("div",{children:['1. We will check "',Object(P.jsx)("span",{children:r}),'" for conflicts']}),Object(P.jsx)(N.a,{}),Object(P.jsxs)("div",{children:['2. We will add event to "',Object(P.jsx)("span",{children:r}),'"']}),Object(P.jsx)(N.a,{}),Object(P.jsx)(Te,{text:t,submitForm:n})]})})),Ee=n(4),Pe=n(483),Ie=n(458),Ae=n(459),Be=Object(u.a)((function(e){return{root:{color:e.palette.primary.light,"&$checked":{color:e.palette.primary.main}},checked:{}}}))((function(e){return Object(P.jsx)(Pe.a,Object(Oe.a)({color:"default"},e))})),_e=Object(u.a)(ke)((function(e){var t=e.classes,n=e.setHours,a=e.hours,i=e.setDays,c=e.days,o=(e.setDefaultMeeting,e.defaultMeeting,e.btnText),s=e.submitForm,l=function(e){i(Object(Oe.a)(Object(Oe.a)({},c),{},Object(Ee.a)({},e.target.name,e.target.checked)))},d=function(e){n(Object(Oe.a)(Object(Oe.a)({},a),{},Object(Ee.a)({},e.target.name,e.target.value)))};return Object(P.jsxs)(r.a.Fragment,{children:[Object(P.jsxs)("div",{children:[Object(P.jsx)("div",{children:"Available Hours: "}),Object(P.jsxs)("div",{className:t.hoursRow,children:[Object(P.jsx)(v.a,{id:"start-hours-field",value:a.start,variant:"outlined",type:"time",name:"start",onChange:d}),Object(P.jsx)("span",{children:"-"}),Object(P.jsx)(v.a,{id:"end-hours-field",value:a.end,variant:"outlined",type:"time",name:"end",onChange:d})]})]}),Object(P.jsxs)("div",{children:[Object(P.jsx)("div",{children:"Available Days: "}),Object(P.jsx)(Ae.a,{row:!0,className:t.checkBoxGroup,children:function(e){return Object.keys(e).map((function(n){return Object(P.jsx)(Ie.a,{id:n+"-checkbox-field",classes:{root:t.checkBoxLabel,label:t.checkBoxLabelLabel},control:Object(P.jsx)(Be,{checked:e[n],onChange:l,name:n}),label:n+"s",labelPlacement:"bottom"},n)}))}(c)})]}),Object(P.jsx)(Te,{text:o,submitForm:s})]})})),We={profile:{header:"Willkommen bei Dentoconnect!",btnText:"Weitermachen"},confirm:{header:"Ihre dentoconnect ist verbunden!",btnText:"Weitermachen"},availability:{header:"Stellen Sie Ihre Verf\xfcgbarkeit ein",btnText:"Beenden"}},Me=Object(u.a)(ke)((function(e){var t=e.classes,n=e.type,r=e.activeStep,i=Object(a.useState)(""),c=Object(f.a)(i,2),o=c[0],s=c[1],l=Object(a.useState)(""),u=Object(f.a)(l,2),m=u[0],j=u[1],b=Object(a.useState)({start:"09:00",end:"17:00"}),h=Object(f.a)(b,2),p=h[0],x=h[1],O=Object(a.useState)({Sunday:!1,Monday:!0,Tuesday:!0,Wednesday:!0,Thursday:!0,Friday:!0,Saturday:!1}),v=Object(f.a)(O,2),y=v[0],C=v[1],w=Object(d.g)(),S=function(){w.push("/availability")},k=function(){""!==o&&""!==m&&function(e){return A.a.get("".concat(F,"/?url=").concat(e)).then((function(e){return e})).catch((function(e){return{error:e.response.data}}))}(o).then((function(e){e.data.isUnique&&w.push("/confirm")})).catch((function(e){console.error(e)}))},T=function(){var e,t,n={url:o,timeZone:m,hours:p,days:y},a=D.getSub();(e=a,t=n,A.a.put("".concat(L,"/").concat(e),t).then((function(e){return e})).catch((function(e){return{error:e.response.data}}))).then((function(e){200===e.status&&w.push("/dashboard")})).catch((function(e){console.error(e)}))};return Object(P.jsxs)(g.a,{elevation:6,className:t.paper,children:[Object(P.jsxs)("div",{className:t.headRow,children:[Object(P.jsxs)("div",{className:t.headContent,children:[Object(P.jsx)("h2",{children:We[n].header}),Object(P.jsx)(Ne,{activeStep:r})]}),Object(P.jsx)(N.a,{className:t.divider})]}),function(e){if("profile"===e)return Object(P.jsx)(De,{handleProfileSubmit:k,btnText:We[e].btnText,url:o,timeZone:m,setUrl:s,setTimeZone:j});if("confirm"===e){var t=D.getEmail();return Object(P.jsx)(ze,{btnText:We[e].btnText,handleConfirmSubmit:S,email:t})}return"availability"===e?Object(P.jsx)(_e,{btnText:We[e].btnText,submitForm:T,hours:p,setHours:x,setDays:C,days:y}):void 0}(n)]})})),Re=n(155),Fe=n(260),Le=n(497),He=n.n(Le),qe=n(421),Ue=n(486),Ve=n(383),Ye=n(426),Ge=n(653),Ze=n(618),Ke=n(671),Je=Object(Ke.a)((function(e){return{navbar:{boxShadow:"3px 3px 5px ".concat(e.palette.secondary.main),display:"flex",justifyContent:"space-between",padding:"1.5rem 5rem","& span":{color:e.palette.primary.main},"& div":{display:"flex",alignItems:"center",fontSize:"1.2rem","& nav":{marginRight:"5rem","& :last-child":{color:e.palette.primary.light}}}},link:{margin:"0 1rem",textDecoration:"none",color:"black",fontWeight:"bold",cursor:"pointer"},profile:{display:"flex",justifyContent:"space-around","& span":{marginLeft:"1rem",color:"black",fontWeight:"bold"}},"@media (max-width: 1280px)":{navbar:{padding:"1.5rem 2rem","& div":{"& nav":{marginRight:"2rem"}}}},"@media (max-width: 880px)":{navbar:{justifyContent:"space-around","& div":{"& nav":{marginRight:"2rem"}}}},"@media (max-width: 800px)":{navbar:{padding:"2rem 0","& h1":{display:"none"},"& div":{"& nav":{marginRight:"0"}}},profile:{"& > *, span":{display:"none"}}}}})),$e=Je;var Qe=function(e){var t=e.picture,n=e.name,a=Object(d.g)(),i=$e(),c=r.a.useState(!1),s=Object(f.a)(c,2),u=s[0],m=s[1],j=r.a.useRef(null),b=Object(o.c)((function(e){return e.auth.auth._id})),h=function(e){j.current&&j.current.contains(e.target)||(m(!1),a.push("/profile/".concat(b)))};function p(e){"Tab"===e.key&&(e.preventDefault(),m(!1))}var x=r.a.useRef(u);return r.a.useEffect((function(){!0===x.current&&!1===u&&j.current.focus(),x.current=u}),[u]),Object(P.jsxs)("header",{className:i.navbar,children:[Object(P.jsxs)("h1",{children:[Object(P.jsx)("span",{children:"Dento"}),"Connect"]}),Object(P.jsxs)("div",{children:[Object(P.jsxs)("nav",{children:[Object(P.jsx)(l.b,{className:i.link,to:"/dashboard",children:"Start"}),Object(P.jsx)(l.b,{className:i.link,to:"/scheduler",children:"Calendar"}),Object(P.jsx)(l.b,{className:i.link,to:"/dashboard/user/upgrade",children:"Upgrade"})]}),Object(P.jsxs)("div",{className:i.profile,children:[Object(P.jsx)(Ue.a,{src:t,ref:j,"aria-controls":u?"menu-list-grow":void 0,"aria-haspopup":"true",onClick:function(){m((function(e){return!e}))},style:{cursor:"pointer"}}),Object(P.jsx)(Ve.a,{open:u,anchorEl:j.current,role:void 0,transition:!0,disablePortal:!0,children:function(e){var t=e.TransitionProps,n=e.placement;return Object(P.jsx)(Ye.a,Object(Oe.a)(Object(Oe.a)({},t),{},{style:{transformOrigin:"bottom"===n?"center top":"center bottom"},children:Object(P.jsx)(g.a,{children:Object(P.jsx)(Ge.a,{onClickAway:h,children:Object(P.jsxs)(Ze.a,{autoFocusItem:u,id:"menu-list-grow",onKeyDown:p,children:[Object(P.jsx)(se.a,{onClick:h,style:{display:"flex",justifyContent:"space-between"},children:"Profile"}),Object(P.jsx)(se.a,{onClick:function(e){h(e),D.logout((function(){D.sub=null,D.email=null,D.name=null,D.token=null,a.push("/login")}))},children:"Logout"})]})})})}))}}),Object(P.jsx)("span",{children:n})]})]})]})},Xe=n(128),et=n.n(Xe),tt=function(e){return e.map((function(e){return{_id:e.user,event_id:e._id,title:"".concat(e.guestName," - ").concat(e.meetingName.title),start:new Date(et()(e.apptTime).tz(e.userTz)),end:new Date(et()(e.apptTime).tz(e.userTz).add(e.meetTime,"m"))}}))},nt=function(){var e=Object(a.useState)([]),t=Object(f.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)([]),c=Object(f.a)(i,2),o=c[0],s=c[1],l=Object(a.useState)({meetings:[]}),d=Object(f.a)(l,2),u=d[0],m=d[1],j=Object(qe.useScheduler)();j.resourceViewMode,j.setResourceViewMode;Object(a.useEffect)((function(){var e=D.getSub();X(e).then((function(e){m(e.data)})).catch((function(e){console.log("Error: "+e)}))}),[]),Object(a.useEffect)((function(){var e=function(){var e=Object(Fe.a)(Object(Re.a)().mark((function e(){return Object(Re.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:he(u._id,u.timezone).then((function(e){var t,n=[{_id:(t=e.data)[0].user,fullName:t[0].dentist.fullName,phone:t[0].dentist.phone,color:"#ff6d00"}],a=tt(e.data);r(a),s(n)})).catch((function(e){console.error("Error: "+e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();u._id&&e()}),[u]);return console.log(n),Object(P.jsxs)(a.Fragment,{children:[Object(P.jsx)(Qe,{picture:u.picture?u.picture:"",name:u.fullName}),o.length>0&&n.length>0&&Object(P.jsx)(qe.Scheduler,{events:n,resources:o,resourceFields:{idField:"_id",textField:"fullName",subTextField:"phone",colorField:"color"},onConfirm:function(e,t){return e},fields:[{name:"_id",type:"select",default:o[0]._id,options:o.map((function(e){return{id:e._id,text:"".concat(e.fullName," (").concat(e.phone,")"),value:e._id}})),config:{label:"Assignee",required:!0}}],viewerExtraComponent:function(e,t){return Object(P.jsx)("div",{children:e.map((function(e,n){if("_id"===e.name){var a=e.options.find((function(e){return e.id===t._id}));return Object(P.jsxs)(oe.a,{style:{display:"flex",alignItems:"center"},color:"textSecondary",variant:"caption",noWrap:!0,children:[Object(P.jsx)(He.a,{})," ",a.text]},n)}return""}))})}})]})},at=n(657),rt=n(658),it=n(659),ct=n(660),ot=n(661),st=Object(Ke.a)((function(e){return{container:{height:"100vh",display:"flex",flexDirection:"column"},subHeader:{padding:"3rem 30 0 30rem",flex:"0 1 auto"},checkBoxGroup:{border:"1px solid #ccc",borderRadius:"5px","& label:last-child":{border:"none"},justifyContent:"center"},hoursRow:{display:"flex",flexDirection:"row","& span":{fontSize:"1rem",padding:" 0 5% 0 5%",alignSelf:"center"}},checkBoxLabel:{borderRight:"1px solid #eee",margin:"0px",padding:"0.2rem 0 0.5rem 0",flex:"0 0 14.28%"},checkBoxLabelLabel:{fontSize:"0.7rem"},"@media (min-width: 1680px)":{subHeader:{padding:"2rem 30rem 0 30rem"}},"@media (max-width: 1680px)":{subHeader:{padding:"2rem 30rem 0 30rem"}},"@media (max-width: 1280px)":{subHeader:{padding:"2rem 15rem 0 15rem"}},"@media (max-width: 1080px)":{subHeader:{padding:"2rem 20rem 0 20rem"}},"@media (max-width: 880px)":{subHeader:{padding:"2rem 5rem 0 5rem"}},"@media (max-width: 650px)":{},"@media (max-width: 500px)":{subHeader:{padding:"2rem 2rem 0 2rem"},hoursRow:{display:"flex",justifyContent:"space-between",flexDirection:"row","& span":{fontSize:"1rem",padding:" 0 5% 0 5%",alignSelf:"center",display:"none"}}}}})),lt=n(467),dt=n(470),ut=n(468),mt=n(469),jt=n(413),bt=function(e){var t=e.openDialog,n=e.onCancel,a=e.onOK,r=e.title,i=e.content;return Object(P.jsxs)(lt.a,{fullWidth:!0,maxWidth:"sm",open:t,onClose:n,children:[Object(P.jsx)(dt.a,{children:r}),Object(P.jsx)(ut.a,{children:Object(P.jsx)(mt.a,{children:i})}),Object(P.jsxs)(jt.a,{children:[Object(P.jsx)(de.a,{onClick:n,children:"Cancel"}),Object(P.jsx)(de.a,{onClick:a,children:"Ok"})]})]})},ht=function(){var e=Object(a.useRef)(),t=Object(o.b)(),n=st(),i=Object(d.g)(),c=Object(d.i)(),l={email:"",fullName:"",timezone:"",url:"",password:"",phone:"",availability:{days:{},hours:{start:null,end:null}}},m=r.a.useState({}),j=Object(f.a)(m,2),b=j[0],h=j[1],p=r.a.useState(!1),x=Object(f.a)(p,2),O=x[0],g=x[1],v=r.a.useState({}),N=Object(f.a)(v,2),k=N[0],T=N[1],D=r.a.useState({}),z=Object(f.a)(D,2),I=z[0],B=z[1],_=r.a.useState(""),W=Object(f.a)(_,2),M=W[0],R=W[1],F=r.a.useState(""),L=Object(f.a)(F,2),q=L[0],U=L[1],V=r.a.useState(!1),Y=Object(f.a)(V,2),G=Y[0],Z=Y[1],K=function(e){h(Object(Oe.a)(Object(Oe.a)({},b),{},Object(Ee.a)({},e.target.name,e.target.value)))},J=function(e){B(Object(Oe.a)(Object(Oe.a)({},I),{},Object(Ee.a)({},e.target.name,e.target.checked)))};r.a.useEffect((function(){X(c.id).then((function(e){h(e.data),B(e.data.availability.days),T(e.data.availability.hours)})).catch((function(e){h(l)})),ue.ValidatorForm.removeValidationRule("isPasswordMatch")}),[]),r.a.useEffect((function(){ue.ValidatorForm.addValidationRule("isPasswordMatch",(function(e){return e===M}))}),[q]);var $,Q=Object(u.a)((function(e){return{root:{color:e.palette.primary.light,"&$checked":{color:e.palette.primary.main}},checked:{}}}))((function(e){return Object(P.jsx)(Pe.a,Object(Oe.a)({color:"default"},e))}));return Object(P.jsxs)(C.a,{className:n.container,children:[Object(P.jsx)(Qe,{picture:b&&b.picture,name:b&&b.fullName}),Object(P.jsxs)(ue.ValidatorForm,{ref:e,onSubmit:function(){Z(!0),console.log("---")},children:[Object(P.jsxs)(C.a,{className:n.subHeader,children:[Object(P.jsxs)(C.a,{children:[Object(P.jsx)(C.a,{mb:4,display:"flex",justifyContent:"center",children:Object(P.jsx)(Ue.a,{style:{width:"100px",height:"100px"}})}),Object(P.jsx)(C.a,{mb:4,children:Object(P.jsx)(ue.TextValidator,{fullWidth:!0,label:"FullName",name:"fullName",variant:"outlined",value:b.fullName,type:"text",validators:["required"],errorMessages:["FullName field is required"],onChange:K,InputProps:{startAdornment:Object(P.jsx)(y.a,{className:n.adornment,position:"start",component:"div",children:Object(P.jsx)(at.a,{})})}})}),Object(P.jsx)(C.a,{mb:4,children:Object(P.jsx)(ue.TextValidator,{fullWidth:!0,label:"Email",name:"email",variant:"outlined",value:b.email,type:"email",validators:["required","isEmail"],errorMessages:["Email field is required","email is not valid"],onChange:K,InputProps:{startAdornment:Object(P.jsx)(y.a,{className:n.adornment,position:"start",component:"div",children:Object(P.jsx)(rt.a,{})})}})}),Object(P.jsx)(C.a,{mb:4,children:Object(P.jsx)(ue.TextValidator,{fullWidth:!0,label:"Phone Number",name:"phone",variant:"outlined",value:b.phone,type:"number",validators:["required"],errorMessages:["Email field is required"],onChange:K,InputProps:{startAdornment:Object(P.jsx)(y.a,{className:n.adornment,position:"start",component:"div",children:Object(P.jsx)(it.a,{})})}})})]}),Object(P.jsx)(C.a,{mb:4,children:Object(P.jsx)(ue.TextValidator,{fullWidth:!0,id:"url-field",label:"URL",variant:"outlined",value:b&&b.url,validators:["required"],errorMessages:["URL field is required"],onChange:K,InputProps:{startAdornment:Object(P.jsx)(y.a,{className:n.adornment,position:"start",component:"div",children:"http://dentoconnect.herokuapp.com/"})}})}),Object(P.jsx)(C.a,{mb:4,children:Object(P.jsx)(we.a,{id:"timezone-field",options:et.a.tz.names(),getOptionLabel:function(e){return e+" (GMT"+et.a.tz(e).format("Z")+")"},inputValue:b.timezone,value:b.timezone,onChange:function(e,t){h(Object(Oe.a)(Object(Oe.a)({},b),{},{timezone:t}))},onInputChange:function(e,t){h(Object(Oe.a)(Object(Oe.a)({},b),{},{timezone:t}))},renderInput:function(e){return Object(P.jsx)(ue.TextValidator,Object(Oe.a)(Object(Oe.a)({},e),{},{value:b.timezone,label:"Type a city or zone",variant:"outlined",validators:["required"],errorMessages:["TImeZone field is required"]}))}})}),Object(P.jsx)(C.a,{mb:4,children:Object(P.jsxs)(C.a,{className:n.hoursRow,children:[Object(P.jsx)(ue.TextValidator,{fullWidth:!0,id:"start-hours-field",value:k.start,variant:"outlined",type:"time",label:"From",name:"start",validators:["required"],errorMessages:["StartTIme field is required"],onChange:function(e){T(Object(Oe.a)(Object(Oe.a)({},k),{},{start:e.target.value}))},InputProps:{startAdornment:Object(P.jsx)(y.a,{className:n.adornment,position:"start",component:"div",children:Object(P.jsx)(ct.a,{})})}}),Object(P.jsx)("span",{children:"-"}),Object(P.jsx)(ue.TextValidator,{id:"end-hours-field",fullWidth:!0,value:k.end,variant:"outlined",type:"time",label:"To",name:"end",onChange:function(e){T(Object(Oe.a)(Object(Oe.a)({},k),{},{end:e.target.value}))},validators:["required"],errorMessages:["EndTime field is required"],InputProps:{startAdornment:Object(P.jsx)(y.a,{className:n.adornment,position:"start",component:"div",children:Object(P.jsx)(ct.a,{})})}})]})}),Object(P.jsxs)(C.a,{mb:4,children:[Object(P.jsx)("div",{children:"Available Days: "}),Object(P.jsx)(Ae.a,{row:!0,className:n.checkBoxGroup,children:($=I&&I,Object.keys($).map((function(e){return Object(P.jsx)(Ie.a,{id:e+"-checkbox-field",classes:{root:n.checkBoxLabel,label:n.checkBoxLabelLabel},control:Object(P.jsx)(Q,{checked:$[e],name:e,onChange:J}),label:e+"s",labelPlacement:"bottom"},e)})))})]}),Object(P.jsx)(C.a,{mb:4,children:Object(P.jsx)(ue.TextValidator,{fullWidth:!0,name:"password",label:"New Password",value:M,type:!0===O?"text":"password",variant:"outlined",onChange:function(e){return R(e.target.value)},InputProps:{startAdornment:Object(P.jsx)(y.a,{className:n.adornment,position:"start",component:"div",children:Object(P.jsx)(ot.a,{})}),endAdornment:Object(P.jsx)(y.a,{className:n.adornment,position:"start",component:"div",children:!0===O?Object(P.jsx)(ce.a,{onClick:function(e){g(!1)},children:Object(P.jsx)(w.a,{})}):Object(P.jsx)(ce.a,{onClick:function(e){return g(!0)},children:Object(P.jsx)(S.a,{})})})}})}),Object(P.jsx)(C.a,{mb:4,children:Object(P.jsx)(ue.TextValidator,{fullWidth:!0,name:"newConfirm",value:q,onChange:function(e){U(e.target.value)},type:!0===O?"text":"password",label:"Confirm New Password",variant:"outlined",validators:["isPasswordMatch"],errorMessages:["password mismatch"],InputProps:{startAdornment:Object(P.jsx)(y.a,{className:n.adornment,position:"start",component:"div",children:Object(P.jsx)(ot.a,{})}),endAdornment:Object(P.jsx)(y.a,{className:n.adornment,position:"start",component:"div",children:!0===O?Object(P.jsx)(ce.a,{onClick:function(e){g(!1)},children:Object(P.jsx)(w.a,{})}):Object(P.jsx)(ce.a,{onClick:function(e){return g(!0)},children:Object(P.jsx)(S.a,{})})})}})}),Object(P.jsxs)(C.a,{display:"flex",justifyContent:"flex-end",children:[Object(P.jsx)(C.a,{mr:4,children:Object(P.jsx)(de.a,{color:"primary",variant:"outlined",type:"submit",children:"Save"})}),Object(P.jsx)(C.a,{children:Object(P.jsx)(de.a,{color:"primary",variant:"outlined",onClick:function(e){i.push("/dashboard")},children:"Calcel"})})]})]}),Object(P.jsx)(bt,{onOK:function(){h(Object(Oe.a)(Object(Oe.a)({},b),{},{availability:{hours:k,days:I}})),h(Object(Oe.a)(Object(Oe.a)({},b),{},{password:M})),function(e){return A.a.put("".concat(H,"/").concat(e._id),e).then((function(e){return e})).catch((function(e){return{error:e.response.data}}))}(b).then((function(e){s.toast.success("Your profile has been successfully updated."),t({type:E,payload:e.data.doc})})).catch((function(e){return console.log(e)}))},onCancel:function(e){return Z(!1)},title:"Confirm Dialog",content:"Would you sure delete this EventSchedule?",openDialog:G})]})]})},pt=n(501),xt=Object(Ke.a)({timeSlotContainer:{minWidth:"250px",display:"flex",flexDirection:"column",alignItems:"center",paddingTop:"4.2rem","& p":{margin:"0 0 1rem 0",fontSize:"1.1rem"}},btns:{width:"100%",overflowY:"scroll",maxWidth:"100%",maxHeight:"650px"},loader:{display:"flex",justifyContent:"center",marginTop:"1rem",overflowY:"hidden !important"}}),ft=Object(Ke.a)({container:{display:"flex"},button:{flex:"1",width:"100%",border:"1px solid orange",fontWeight:"bold",color:"orange",height:"52px",backgroundColor:"Transparent",borderRadius:"3px",fontSize:"1rem",margin:"5px",cursor:"pointer","&:hover":{border:"2px solid darkorange"},"&:focus":{outline:"0"}},confirmBtn:{flex:"1",margin:"5px",fontSize:"1rem",fontWeight:"bold",cursor:"pointer",height:"52px",color:"#eee",backgroundColor:"darkorange",borderRadius:"3px",border:"none"}});var Ot=function(e){var t=e.time,n=e.userName,r=e.meeting,i=e.clientTz,c=ft(),o=Object(a.useState)(!1),s=Object(f.a)(o,2),l=s[0],u=s[1],m=Object(d.g)(),j=Object(d.i)(),b=(j.eventDuration,j.url);return Object(P.jsxs)("div",{className:c.container,children:[Object(P.jsx)("button",{onClick:function(){u(!l)},className:c.button,children:re.a.tz(t,i).format("h:mma")}),l?Object(P.jsx)("button",{onClick:function(){m.push({pathname:"/".concat(b,"/").concat(r._id,"/confirm"),state:{name:n,meeting:r,time:t,clientTz:i}})},className:c.confirmBtn,children:"Confirm"}):null]})},gt=n(466);var vt=function(e){var t=e.isLoading,n=e.availableTimes,a=e.date,r=e.userName,i=e.meeting,c=e.clientTz,o=xt();return Object(P.jsxs)("div",{className:o.timeSlotContainer,children:[Object(P.jsx)("p",{children:a}),Object(P.jsx)("div",{className:o.btns,children:t?Object(P.jsx)("div",{className:o.loader,children:Object(P.jsx)(gt.a,{})}):n.map((function(e,t){return Object(P.jsx)(Ot,{userName:r,meeting:i,time:e,clientTz:c},t)}))})]})},yt=Object(Ke.a)({calendarContainer:{display:"flex",justifyContent:"flex-start",margin:"5rem auto",width:"65%",height:"700px",maxWidth:"1100px"},calendar:{fontSize:"1.2rem",paddingRight:"2rem","& h5":{marginBottom:"1.5rem",color:"#484848",fontWeight:"bold"}},eventInfo:{width:"385px",padding:"1.5rem","& h4":{color:"#484848",letterSpacing:"1px",fontWeight:"bold"},"& h6":{color:"gray",marginBottom:"0.5rem"}},duration:{color:"grey",marginTop:"0.5rem",display:"flex","& p":{marginLeft:"0.5rem"}},selectDay:{display:"flex",padding:"2rem 0 2rem 2rem"},meetingName:{textTransform:"capitalize"},timezone:{width:"100%",padding:"1rem 0.4rem"},"@media (max-width: 1600px)":{eventInfo:{textAlign:"center",width:"100%"},calendarContainer:{flexDirection:"column",height:"100%",width:"50%"},duration:{justifyContent:"center"},calendar:{paddingRight:"0"}},"@media (max-width: 1400px)":{calendarContainer:{width:"55%"}},"@media (max-width: 1260px)":{calendarContainer:{width:"70%"}},"@media (max-width: 1000px)":{calendarContainer:{width:"100%"},selectDay:{display:"block",padding:0},calendar:{textAlign:"center"}}}),Ct=(n(602),function(){return{headers:{"x-access-token":D.getToken()}}});var Nt=function(){var e=yt(),t=Object(a.useState)(re.a.tz.guess()),n=Object(f.a)(t,2),r=n[0],i=n[1],c=re.a.tz(r),o=Object(a.useState)(null),s=Object(f.a)(o,2),l=s[0],u=s[1],m=Object(a.useState)(null),j=Object(f.a)(m,2),b=j[0],h=j[1],p=Object(a.useState)(""),x=Object(f.a)(p,2),y=x[0],C=x[1],w=Object(a.useState)(!1),S=Object(f.a)(w,2),k=S[0],T=S[1],D=Object(a.useState)(""),z=Object(f.a)(D,2),E=z[0],I=z[1],B=Object(a.useState)(!1),_=Object(f.a)(B,2),M=_[0],R=_[1],F=Object(a.useState)([]),L=Object(f.a)(F,2),H=L[0],q=L[1],U=Object(a.useState)([]),V=Object(f.a)(U,2),Z=V[0],K=V[1],J=Object(a.useState)(c.month()),$=Object(f.a)(J,2),Q=$[0],X=$[1],ee=Object(d.i)(),te=ee.eventDuration,ne=ee.event,ae=ee.url;Object(a.useEffect)((function(){(function(e,t){return A.a.get("".concat(W,"/").concat(e,"/").concat(t)).then((function(e){return e})).catch((function(e){return{error:e.response.data}}))})(ae,te).then((function(e){if(200===e.status){var t=e.data;t.fullName?C(t.fullName):C(t.given_name);var n=t.meetings.filter((function(e){return e._id===ne}));I(n[0])}})).catch((function(e){return console.log("Error "+e)}))}),[ae,te]),Object(a.useEffect)((function(){(function(e,t,n,a){var r=Ct();return A.a.get("".concat(G,"?month=").concat(e,"&meetTime=").concat(t,"&clientTz=").concat(n,"&uniqueurl=").concat(a),r).then((function(e){return e})).catch((function(e){return{error:e.response.data}}))})(Q,te,r,ae).then((function(e){200===e.status&&(K(e.data.days),R(!1),u(null))}))}),[r,Q,te,ae]);var ie=function(e,t){(function(e,t,n,a,r){var i=Ct();return A.a.get("".concat(Y,"?month=").concat(e,"&day=").concat(t,"&meetTime=").concat(n,"&clientTz=").concat(a,"&uniqueurl=").concat(r),i).then((function(e){return e})).catch((function(e){return{error:e.response.data}}))})(t,e,te,r,ae).then((function(e){200===e.status&&(q(e.data.slots),T(!1))})).catch((function(e){return console.log(e)}))};return Object(P.jsxs)(g.a,{elevation:2,className:e.calendarContainer,children:[Object(P.jsxs)("div",{className:e.eventInfo,children:[Object(P.jsx)(oe.a,{variant:"h6",children:y}),Object(P.jsxs)("div",{className:e.duration,children:[Object(P.jsx)(O.a,{size:20}),Object(P.jsxs)(oe.a,{variant:"body1",children:[te," min"]})]})]}),Object(P.jsx)(N.a,{orientation:"vertical"}),Object(P.jsxs)("div",{className:e.selectDay,children:[Object(P.jsxs)("div",{className:e.calendar,children:[Object(P.jsx)(oe.a,{variant:"h5",children:"Select a Date & Time"}),Object(P.jsx)(pt.a,{onActiveStartDateChange:function(e){X(e.activeStartDate.getMonth())},tileContent:function(e){return e.date.getMonth()===c.month()&&e.date.getDate()===c.date()?Object(P.jsx)("div",{id:"today",children:"*"}):null},minDate:new Date(re()().tz(r).format()),maxDate:function(){var e=new Date;return new Date(e.setMonth(e.getMonth()+3,31))}(),onClickDay:function(e){var t=e.getDate(),n=e.getMonth(),a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.getDay()],r=function(e){return["January","February","March","April","May","June","July","August","September","October","November","December"][e]}(e.getMonth());u(e),h("".concat(a,", ").concat(r," ").concat(t)),R(!0),T(!0),ie(t,n)},value:l,tileDisabled:function(e){var t=e.date.getDate();if(Z.indexOf(t)<0)return!0}}),Object(P.jsx)(we.a,{id:"timezone-field",disableClearable:!0,className:e.timezone,value:r,options:re.a.tz.names(),getOptionLabel:function(e){return e.replace("_"," ")+" (GMT"+re.a.tz(e).format("Z")+")"},renderInput:function(e){return Object(P.jsx)(v.a,Object(Oe.a)(Object(Oe.a)({},e),{},{label:"Type a city or zone",variant:"outlined"}))},onChange:function(e,t){return i(t)}})]}),M?Object(P.jsx)(vt,{userName:y,meeting:E,availableTimes:H,date:b,isLoading:k,clientTz:r}):null]})]})},wt=Object(Ke.a)((function(e){return{container:{height:"100vh",display:"flex",flexDirection:"column"},subHeader:{padding:"3rem 15rem 0 15rem",flex:"0 1 auto"},dashBody:{flex:"2 0 auto",display:"flex",flexDirection:"column"},panelHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"3rem 0"},profileContainer:{display:"flex",alignItems:"center"},profileInfo:{display:"flex",flexDirection:"column","& :first-child":{marginLeft:"1.5rem",fontWeight:"bold"},"& :last-child":{marginLeft:"1.5rem",color:"grey"}},addEventBtn:{color:e.palette.primary.main,border:"1px solid ".concat(e.palette.primary.main)},getStartedBtn:{borderRadius:"32px",padding:"1rem 2rem",margin:"9rem -7rem 0 0",float:"right",background:e.palette.primary.main,color:"white"},events:{display:"flex",flexWrap:"wrap"},"@media (max-width: 1680px)":{subHeader:{padding:"2rem 10rem 0 10rem"}},"@media (max-width: 1280px)":{subHeader:{padding:"2rem 5rem 0 5rem"},getStartedBtn:{margin:"9rem -3rem 0 0"}},"@media (max-width: 1080px)":{events:{flexDirection:"column"},subHeader:{padding:"2rem 10rem 0 10rem"},panelHeader:{padding:"3rem 5rem"},getStartedBtn:{margin:"3rem "}},"@media (max-width: 880px)":{subHeader:{padding:"2rem 5rem 0 5rem"}},"@media (max-width: 650px)":{panelHeader:{flexDirection:"column",padding:"1.5rem 5rem"},profileInfo:{marginBottom:"2rem"},profileContainer:{alignItems:"flex-start"}},"@media (max-width: 500px)":{subHeader:{padding:"2rem 2rem 0 2rem"},panelHeader:{padding:"1.5rem 2rem"}}}})),St=wt,kt=n(662),Tt=n(484),Dt=n(474),zt=function(){return{headers:{"x-access-token":D.getToken()}}},Et=Object(Ke.a)((function(e){return{upgradeContainer:{background:e.palette.secondary.light,flex:"1 1 auto",boxShadow:"inset 0 15px 15px -20px #305490","& header":{margin:"5rem 0 1rem","& h5":{fontWeight:"bold",marginBottom:"0.5rem",color:""},"& h6":{color:"darkgray",marginTop:"0.5rem"}}},plansContainer:{display:"flex",justifyContent:"center"},"@media (max-width: 600px)":{plansContainer:{flexDirection:"column",justifyContent:"center",alignItems:"center"}},plan:{width:"70%",margin:"2rem",height:"350px",display:"flex",flexDirection:"column",justifyContent:"space-around","& a":{margin:"0 auto"}},basicBtn:{borderColor:"orange",color:"orange",width:"150px",margin:"0 auto"},planDetails:{textAlign:"center",flex:"1","& ul":{listStyle:"none",padding:"0"}},pricing:{display:"flex",justifyContent:"space-around",flexDirection:"column",flex:"3","& div":{"& h5":{color:e.palette.purple.main,fontWeight:"bold"},"& h6":{fontWeight:"bold"}}},premPricing:{display:"flex",justifyContent:"space-around",flexDirection:"column",flex:"3","& div":{"& h5":{color:e.palette.primary.main,fontWeight:"bold"},"& h6":{fontWeight:"bold"}}},premBtn:{color:"white",margin:"0 auto",background:e.palette.primary.main,width:"150px","&:hover":{background:e.palette.primary.main}},loaderContainer:{display:"flex",justifyContent:"center"}}})),Pt=Et,It=Object(kt.a)((function(e){var t=e.user,n=e.setUser;console.log(t);var r=Pt(),i=Object(a.useState)(!1),c=Object(f.a)(i,2),o=c[0],s=c[1];return Object(P.jsxs)("div",{className:r.upgradeContainer,children:[Object(P.jsxs)("header",{children:[Object(P.jsx)(oe.a,{className:r.headerTitle,align:"center",variant:"h4",children:"Upgrade Plan"}),Object(P.jsx)(oe.a,{className:r.headerSub,align:"center",variant:"subtitle1",children:"You are on the free basic plan."})]}),Object(P.jsxs)("main",{className:r.plansContainer,children:[Object(P.jsxs)(g.a,{className:r.plan,elevation:6,children:[Object(P.jsxs)("div",{className:r.pricing,children:[Object(P.jsxs)("div",{children:[Object(P.jsx)(oe.a,{align:"center",variant:"h5",children:"Basic"}),Object(P.jsx)(oe.a,{align:"center",variant:"subtitle1",children:"0\u20ac/month"})]}),t.subscriber?o?Object(P.jsx)("div",{className:r.loaderContainer,children:Object(P.jsx)(gt.a,{})}):Object(P.jsx)(de.a,{onClick:function(){s(!0),function(e){var t=zt();return A.a.delete("".concat(K,"/").concat(e),t).then((function(e){return e})).catch((function(e){return{error:e.response.data}}))}(t._id).then((function(e){s(!1);var a=Object(Oe.a)({},t);a.subscriber=!1,n(a)})).catch((function(e){console.log(e)}))},size:"large",className:r.basicBtn,variant:"outlined",children:"Unsubscribe"}):Object(P.jsx)(de.a,{size:"large",className:r.basicBtn,variant:"outlined",children:"Your Plan"})]}),Object(P.jsx)(N.a,{}),Object(P.jsx)("div",{className:r.planDetails,children:Object(P.jsx)("ul",{children:Object(P.jsx)("li",{className:r.listEle,children:"Single Event Type"})})})]}),Object(P.jsxs)(g.a,{className:r.plan,elevation:6,children:[Object(P.jsxs)("div",{className:r.premPricing,children:[Object(P.jsxs)("div",{children:[Object(P.jsx)(oe.a,{align:"center",variant:"h5",children:"Premium"}),Object(P.jsx)(oe.a,{align:"center",variant:"subtitle1",children:"199\u20ac/month"})]}),t.subscriber?Object(P.jsx)(de.a,{size:"large",className:r.premBtn,variant:"outlined",children:"Your Plan"}):Object(P.jsx)(l.b,{to:"/dashboard/user/upgrade/checkout",style:{textDecoration:"none"},children:Object(P.jsx)(de.a,{size:"large",className:r.premBtn,variant:"contained",children:"Upgrade"})})]}),Object(P.jsx)(N.a,{}),Object(P.jsx)("div",{className:r.planDetails,children:Object(P.jsx)("ul",{children:Object(P.jsx)("li",{className:r.listEle,children:"Unlimited Event Type"})})})]})]})]})})),At=n(205),Bt=Object(Ke.a)((function(e){return{checkoutContainer:{flex:"1 1 auto",boxShadow:"inset 0 15px 15px -20px #305490",background:e.palette.secondary.light},checkout:{width:"50%",height:"450px",margin:"5rem auto",padding:"2rem 3rem 3rem",display:"flex",flexDirection:"column",justifyContent:"space-between"},"@media (max-width: 880px)":{checkout:{width:"90%"}},successMessage:{color:"green",marginTop:"0.5rem"},checkoutText:{"& h4":{color:"orange",marginBottom:"1rem",fontWeight:"bold"}},cardForm:{display:"flex",flexDirection:"column","& label":{marginBottom:"1rem",fontSize:"0.75rem",fontWeight:"bold"}},cardInput:{border:"1px solid ".concat(e.palette.secondary.main),borderRadius:"5px"},submitBtn:{background:e.palette.purple.main,color:"white",border:"none","&:hover":{background:e.palette.purple.main}},loaderContainer:{display:"flex",justifyContent:"center"}}})),_t=Bt,Wt=(n(603),function(e){var t=e.user,n=e.setUser,r=_t(),i=Object(At.useStripe)(),c=Object(d.g)(),o=Object(At.useElements)(),s=Object(a.useState)(!1),l=Object(f.a)(s,2),u=l[0],m=l[1],j=Object(a.useState)(null),b=Object(f.a)(j,2),h=b[0],p=b[1],x=Object(a.useState)(!1),O=Object(f.a)(x,2),v=O[0],y=O[1],C=function(e){m(!0),function(e,t,n){var a=zt(),r={email:t,payment_method:n};return A.a.post("".concat(Z,"/").concat(e),r,a).then((function(e){return e})).catch((function(e){return{error:e.response.data}}))}(t._id,t.email,e.id).then((function(e){m(!1);var a=e.data.latest_invoice.payment_intent;if(a){var r=a.client_secret;if("requires_action"===a.status)i.confirmCardPayment(r).then((function(e){e.error?p(e.error):(y(!0),c.push("/dashboard"))}));else{var o=t;o.subscriber=!0,n(o),y(!0),c.push("/dashboard")}}}))},N=function(){var e=Object(Fe.a)(Object(Re.a)().mark((function e(n){var a;return Object(Re.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),i&&o){e.next=3;break}return e.abrupt("return");case 3:return a=o.getElement(At.CardElement),e.next=6,i.createPaymentMethod({type:"card",card:a,billing_details:{email:t.email}}).then((function(e){var t=e.paymentMethod,n=e.error;n||C(t),p(n)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(P.jsx)("main",{className:r.checkoutContainer,children:Object(P.jsx)("form",{onSubmit:N,children:Object(P.jsxs)(g.a,{elevation:6,className:r.checkout,children:[Object(P.jsxs)("div",{className:r.checkoutText,children:[Object(P.jsx)(oe.a,{align:"center",variant:"h4",children:"Subscription"}),Object(P.jsx)(oe.a,{align:"center",variant:"body1",children:"Complete the form below to subscribe to our premium plan."}),v?Object(P.jsx)(oe.a,{align:"center",className:r.successMessage,variant:"h6",color:"primary",children:"Thank you! You are subscribed."}):null]}),h?Object(P.jsx)(oe.a,{align:"center",color:"error",children:h.message}):Object(P.jsx)("p",{children:" "}),Object(P.jsxs)("div",{className:r.cardForm,children:[Object(P.jsx)("label",{children:"Enter Card Information"}),Object(P.jsx)("div",{className:r.cardInput,children:Object(P.jsx)(At.CardElement,{className:"card-Element",options:{style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"}}}})})]}),u?Object(P.jsx)("div",{className:r.loaderContainer,children:Object(P.jsx)(gt.a,{size:38,className:r.loader})}):Object(P.jsx)(de.a,{disabled:!i||!0===u,size:"large",variant:"contained",className:r.submitBtn,type:"submit",children:"Checkout"})]})})})}),Mt=Object(Ke.a)((function(e){return{eventsContainer:{width:"24%",height:"225px",display:"flex",flexDirection:"column",justifyContent:"space-between",padding:"0 2rem 2rem 2rem",margin:"1rem"},eventDesc:{display:"flex",flexDirection:"column",paddingLeft:"1.5rem",flex:"4","& h3":{margin:"0"},"& h6":{color:"grey"}},settingsIcon:{color:"lightgrey",marginTop:"1rem",float:"right",marginRight:"-1rem"},linksContainer:{flex:"1",paddingTop:"1rem",margin:"0 -2rem",borderTop:"1px solid ".concat(e.palette.secondary.main),display:"flex",justifyContent:"space-around","& div":{display:"flex",alignItems:"center","& span":{marginLeft:"1rem"}}},linkButton:{border:"1px solid ".concat(e.palette.primary.main),color:e.palette.primary.main},"@media (max-width: 1680px)":{eventsContainer:{width:"30%"}},"@media (max-width: 1080px)":{eventsContainer:{width:"65%",margin:"1.5rem auto"},linksContainer:{justifyContent:"space-between",padding:"1rem 2rem 0 2rem"}},"@media (max-width: 500px)":{eventsContainer:{width:"80%"}}}})),Rt=Mt,Ft=n(473),Lt=n(663),Ht=n(664);var qt=Object(kt.a)((function(e){var t=e.duration,n=e.meetingName,a=e.url,i=e.setOpen,c=e.setDuration,o=e.id,s=e.sub,d=e.subscribe,u=e.setEditId,m=e.renderNewMeeting,j=Rt(),b=r.a.useState(!1),h=Object(f.a)(b,2),p=h[0],x=h[1],O=null;switch(t){case 15:O="darkmagenta";break;case 30:O="olivedrab";break;case 60:O="darkorange";break;default:O="crimson"}var v={borderTop:"8px solid ".concat(O),borderRadius:"1rem",margin:"0 -2rem"};return Object(P.jsxs)(g.a,{elevation:6,className:j.eventsContainer,children:[Object(P.jsx)("div",{style:v}),Object(P.jsxs)(C.a,{display:"flex",justifyContent:"flex-end",mr:-4,children:[Object(P.jsx)(Ft.a,{title:"edit","aria-label":"edit",children:Object(P.jsx)(ce.a,{"aria-label":"edit",color:"primary",onClick:function(e){u(o),c(parseInt(t)),i(!0)},style:{padding:"8px"},disabled:!1===d,children:Object(P.jsx)(Lt.a,{})})}),Object(P.jsx)(Ft.a,{title:"delete","aria-label":"delete",children:Object(P.jsx)(ce.a,{"aria-label":"delete",onClick:function(e){x(!0),u(o)},style:{padding:"8px"},children:Object(P.jsx)(Ht.a,{})})})]}),Object(P.jsxs)("div",{className:j.eventDesc,children:[Object(P.jsx)("h3",{children:n}),Object(P.jsx)(oe.a,{variant:"subtitle1",children:"One-on-one"})]}),Object(P.jsxs)("div",{className:j.linksContainer,children:[Object(P.jsx)("div",{children:Object(P.jsxs)(l.b,{target:"_blank",to:{pathname:"/".concat(a,"/").concat(o,"/").concat(t)},children:[t," min"]})}),Object(P.jsx)(de.a,{className:j.linkButton,variant:"outlined",children:"Copy Link"})]}),Object(P.jsx)(bt,{openDialog:p,onOK:function(){ee(s,o).then((function(e){m(e.data.docs),x(!1)})).catch((function(e){return console.log(e)}))},onCancel:function(e){return x(!1)},title:"Confirm Dialog",content:"Would you sure delete this EventSchedule?"})]})})),Ut=Object(Ke.a)((function(e){return{panelContainer:{background:e.palette.secondary.light,padding:"0 15rem",fontSize:"1.1rem",flex:"1 1 auto"},"@media (max-width: 1680px)":{panelContainer:{padding:"0 10rem"}},"@media (max-width: 1280px)":{panelContainer:{padding:"0 5rem"}},"@media (max-width: 880px)":{panelContainer:{padding:"0"}}}})),Vt=Ut;var Yt=Object(kt.a)((function(e){var t=Vt();return Object(P.jsx)("div",{hidden:e.value!==e.index,className:t.panelContainer,children:e.children})})),Gt=Object(Ke.a)((function(e){return{listContainer:{listStyle:"none",margin:"2rem 0 1rem",padding:"0",cursor:"pointer","& li":{display:"inline",padding:"1rem 2rem",border:"1px solid lightgrey",borderRight:"none"},"& li:last-child":{borderRight:"1px solid lightgrey"}},"@media (max-width: 600px)":{listContainer:{display:"flex",flexDirection:"column","& li":{display:"inline",padding:"1rem 2rem",border:"1px solid lightgrey"}}},desc:{display:"inline-block"},eventField:{margin:"1rem 0"}}})),Zt=(n(604),function(e){var t=e.open,n=e.handleClose,r=e.sub,i=e.id,c=e.renderNewMeeting,o=Gt(),l=Object(a.useState)(""),d=Object(f.a)(l,2),u=d[0],m=d[1],j=Object(a.useState)(15),b=Object(f.a)(j,2),h=b[0],p=b[1],x=Object(a.useState)(!1),O=Object(f.a)(x,2),g=O[0],y=O[1],C=function(e){var t=document.getElementsByClassName("selected");t.length>0&&(t[0].className=t[0].className.replace("selected","")),e.target.setAttribute("class","selected"),p(e.target.value)};return Object(P.jsxs)(lt.a,{fullWidth:!0,maxWidth:"sm",open:t,onClose:n,children:[Object(P.jsx)(dt.a,{children:i?"Edit Event":"Create New Event"}),Object(P.jsxs)(ut.a,{children:[Object(P.jsx)(mt.a,{children:"Enter a name for your event and select a duration."}),Object(P.jsx)(v.a,{fullWidth:!0,required:!0,variant:"outlined",margin:"normal",label:"Event name",value:u,onChange:function(e){m(e.target.value)}}),Object(P.jsxs)("div",{className:o.eventField,children:[Object(P.jsx)(mt.a,{children:"Event Duration *"}),Object(P.jsxs)("ul",{className:o.listContainer,children:[Object(P.jsx)("li",{className:"".concat(15===h?"selected":""),value:15,onClick:C,children:"15 min"}),Object(P.jsx)("li",{className:"".concat(30===h?"selected":""),value:30,onClick:C,children:"30 min"}),Object(P.jsx)("li",{className:"".concat(45===h?"selected":""),value:45,onClick:C,children:"45 min"}),Object(P.jsx)("li",{className:"".concat(60===h?"selected":""),value:60,onClick:C,children:"60 min"})]})]})]}),Object(P.jsxs)(jt.a,{children:[Object(P.jsx)(de.a,{onClick:n,children:"Cancel"}),i&&u?Object(P.jsx)(de.a,{onClick:function(e){y(!0)},disabled:!u,children:"Save"}):Object(P.jsx)(de.a,{onClick:function(){(function(e,t){return A.a.post("".concat(q,"/").concat(e),t).then((function(e){return e})).catch((function(e){return{error:e.response.data}}))})(r,{meetingName:u,duration:h}).then((function(e){200===e.status?(c(e.data.docs),n()):(n(),s.toast.error("Duplicated ScheduleEvent"))})).catch((function(e){return console.log(e)}))},disabled:!u,children:"Submit"})]}),Object(P.jsx)(bt,{openDialog:g,onOK:function(){(function(e,t,n){return A.a.put("".concat(q,"/?user=").concat(e,"&id=").concat(n),t).then((function(e){return e})).catch((function(e){return{error:e.response.data}}))})(r,{meetingName:u,duration:h},i).then((function(e){200===e.status?(c(e.data.docs),y(!1),n()):(y(!1),s.toast.error("Duplicated ScheduleEvent"),n())})).catch((function(e){console.log(e.status),y(!1),n()}))},onCancel:function(e){return y(!1)},title:"Confirm Dialog",content:"Would you sure save this EventSchedule?"})]})});var Kt=Object(u.a)((function(e){return{panelContainer:{background:e.palette.secondary.light,fontSize:"1.1rem",flex:"1 1 auto"}}}))((function(e){var t=e.value,n=e.index,a=e.classes,r=e.children;return Object(P.jsx)("div",{hidden:t!==n,className:a.panelContainer,children:r})})),Jt=n(485),$t=n(465),Qt=n(464),Xt=n(498),en=function(e){var t=e.open,n=e.handleClose,a=e.appointment,r=(e.renderNewMeeting,e.setUpdate);return Object(P.jsxs)(lt.a,{fullWidth:!0,maxWidth:"sm",open:t,onClose:n,children:[Object(P.jsx)(dt.a,{children:"Are you sure?"}),Object(P.jsx)(ut.a,{children:Object(P.jsx)(mt.a,{children:"Confirm to cancel event."})}),Object(P.jsxs)(jt.a,{children:[Object(P.jsx)(de.a,{onClick:n,children:"Exit"}),Object(P.jsx)(de.a,{onClick:function(){(function(e){var t=je();return A.a.delete("".concat(U,"/").concat(e),t).then((function(e){return e})).catch((function(e){return{error:e.response.data}}))})(a._id).then((function(e){200===e.status&&(r(!0),n())})).catch((function(e){return console.log(e)}))},children:"Confirm Cancel"})]})]})};var tn=Object(u.a)((function(e){return{appointment:{width:"100%"},expansionSummary:{"&:hover":{backgroundColor:"#f7f7f7"}},time:{verticalAlign:"bottom",fontSize:"0.8rem"},icon:{verticalAlign:"bottom",height:20,width:20},details:{alignItems:"center"},column:{width:"50%"},button:{width:"60%",textTransform:"none",fontSize:"0.8rem"}}}))((function(e){var t=e.classes,n=e.appointment,r=e.setUpdate,i=Object(a.useState)(!1),c=Object(f.a)(i,2),o=c[0],s=c[1];return Object(P.jsx)("div",{className:t.appointment,children:Object(P.jsxs)(Jt.a,{children:[Object(P.jsxs)($t.a,{expandIcon:Object(P.jsx)(Xt.a,{}),"aria-controls":"event summary",id:n.apptTime,className:t.expansionSummary,children:[Object(P.jsxs)("div",{className:t.column,children:[Object(P.jsx)(O.e,{size:23,className:t.icon})," ",Object(P.jsxs)("span",{className:t.time,children:[ae(n.apptTime).tz(n.userTz).format("hh:mma")," -",ae(n.apptTime).tz(n.userTz).add(n.meetTime,"m").format("hh:mma")]})]}),Object(P.jsxs)("div",{children:[Object(P.jsx)(oe.a,{variant:"subtitle1",children:n.guestName}),Object(P.jsx)(oe.a,{children:n.meetingName.title})]})]}),Object(P.jsxs)(Qt.a,{className:t.details,children:[Object(P.jsxs)("div",{className:t.column,children:[Object(P.jsx)(de.a,{onClick:function(){s(!0)},className:t.button,variant:"outlined",color:"primary",startIcon:Object(P.jsx)(O.g,{size:15}),children:"Cancel"}),Object(P.jsx)(en,{appointment:n,open:o,handleClose:function(){s(!1)},setUpdate:r})]}),Object(P.jsxs)("div",{children:[Object(P.jsx)(oe.a,{variant:"subtitle1",children:"Email"}),Object(P.jsx)(oe.a,{gutterBottom:!0,children:n.guestEmail}),Object(P.jsx)(oe.a,{variant:"subtitle1",children:"Invitee Timezone"}),Object(P.jsx)(oe.a,{gutterBottom:!0,children:n.guestTz.replace("_"," ")})]})]}),Object(P.jsx)(N.a,{})]})})})),nn=n(65);var an=Object(u.a)({root:{},date:{padding:".5rem 1rem",borderTop:"1px solid #ccc",borderBottom:"1px solid #ccc"}})((function(e){var t=e.classes,n=e.appointments,a=e.setUpdate;return Object(P.jsxs)("div",{className:t.root,children:[Object(P.jsx)(oe.a,{variant:"h6",className:t.date,children:nn(n[0].apptTime).tz(n[0].userTz).format("dddd, MMMM Do YYYY")}),n.map((function(e){return Object(P.jsx)(tn,{appointment:e,setUpdate:a},e._id)}))]})})),rn=Object(u.a)((function(e){return{paper:{width:"100%",minHeight:"400px",marginTop:"50px",marginBottom:"100px"}}}))((function(e){var t=e.classes,n=e.timezone,r=e.user,i=Object(a.useState)(0),c=Object(f.a)(i,2),o=c[0],s=c[1],l=Object(a.useState)([]),d=Object(f.a)(l,2),u=d[0],m=d[1],j=Object(a.useState)(!1),b=Object(f.a)(j,2),h=b[0],p=b[1];Object(a.useEffect)((function(){var e=function(){var e=Object(Fe.a)(Object(Re.a)().mark((function e(){return Object(Re.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:be(r,n).then((function(e){m(e.data),p(!1)})).catch((function(e){console.error("Error: "+e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();r&&e()}),[n,r,h]);var x=function(e){if(e)return Object.keys(e).map((function(t){return Object(P.jsx)(an,{appointments:e[t],setUpdate:p},t)}))};return Object(P.jsx)(g.a,{elevation:6,className:t.paper,children:Object(P.jsxs)("div",{children:[Object(P.jsxs)(Tt.a,{value:o,onChange:function(e,t){s(t)},indicatorColor:"primary",textColor:"primary",children:[Object(P.jsx)(Dt.a,{label:"Upcoming"}),Object(P.jsx)(Dt.a,{label:"Past"})]}),Object(P.jsx)(Kt,{value:o,index:0,children:x(u.upcoming)}),Object(P.jsx)(Kt,{value:o,index:1,children:x(u.past)})]})})})),cn=n(59),on=n(668);Object(u.a)((function(e){return{panelContainer:{fontSize:"1.1rem"}}}))((function(e){var t=e.value,n=e.index,a=e.classes,r=e.children;return Object(P.jsx)("div",{hidden:t!==n,className:a.panelContainer,children:r})}));var sn=n(478),ln=n(475),dn=n(479),un=n(481),mn=n(477),jn=n(476),bn=n(487),hn=n(665),pn=n(666),xn=n(667),fn=function(e){var t=e.tableDate,n=e.setRecordSrc,a=e.setOpenDialog,i=r.a.useState(0),c=Object(f.a)(i,2),o=c[0],s=c[1],l=r.a.useState(5),d=Object(f.a)(l,2),u=d[0],m=d[1],j=function(e){(function(e){return A.a.get("".concat(Q,"?sid=").concat(e)).then((function(e){return e.data}))})(e).then((function(e){n(e),a(!0)}))};return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(sn.a,{sx:{maxHeight:440},children:Object(P.jsxs)(ln.a,{children:[Object(P.jsx)(dn.a,{children:Object(P.jsxs)(un.a,{children:[Object(P.jsx)(mn.a,{style:{textAlign:"center"},width:"15%",children:"PATIENT"}),Object(P.jsx)(mn.a,{style:{textAlign:"center"},width:"30%",children:"INHALT"}),Object(P.jsx)(mn.a,{style:{textAlign:"center"},width:"15%",children:"AKTION"}),Object(P.jsx)(mn.a,{style:{textAlign:"center"},width:"15%",children:"RECORDING"}),Object(P.jsx)(mn.a,{style:{textAlign:"right"},width:"15%",children:Object(P.jsx)(Ft.a,{title:"more",children:Object(P.jsx)(ce.a,{children:Object(P.jsx)(hn.a,{})})})})]})}),Object(P.jsx)(jn.a,{children:t&&t.slice(o*u,o*u+u).map((function(e,t){return Object(P.jsxs)(un.a,{children:[Object(P.jsx)(mn.a,{style:{textAlign:"center"},children:Object(P.jsxs)(C.a,{display:"flex",flexDirection:"column",justifyContent:"center",style:{textAlign:"center"},children:[Object(P.jsx)("h3",{style:{fontWeight:700,fontSize:"16px"},children:e.from}),Object(P.jsx)("h4",{children:e.from})]})}),Object(P.jsx)(mn.a,{style:{textAlign:"center"},children:e.from}),Object(P.jsx)(mn.a,{style:{textAlign:"center"},children:Object(P.jsxs)(C.a,{display:"fex",justifyContent:"center",flexDirection:"column",children:[Object(P.jsx)(C.a,{textAlign:"center",alignItems:"center",display:"flex",justifyContent:"center",children:Object(P.jsx)("p",{style:{backgroundColor:e.from?"#ccffcc":"#ffe0e0",color:e.from?"#118311":"#ce8604",borderRadius:"8px",padding:"4px"},children:e.from?"\u25cf OK":"\u25cf Offten"})}),Object(P.jsx)(C.a,{children:et()(e.dateCreated).format("YYYY-MM-DD")})]})}),Object(P.jsx)(mn.a,{style:{textAlign:"center"},children:Object(P.jsx)(Ft.a,{title:"recording",children:Object(P.jsx)(ce.a,{onClick:function(){return j(e.sid)},children:Object(P.jsx)(pn.a,{})})})}),Object(P.jsx)(mn.a,{children:Object(P.jsxs)(C.a,{display:"flex",justifyContent:"right",alignItems:"center",children:[Object(P.jsx)("span",{style:{marginRight:"12px"},children:"PVS"}),Object(P.jsx)(xn.a,{}),Object(P.jsx)(Ft.a,{title:"more",children:Object(P.jsx)(ce.a,{children:Object(P.jsx)(hn.a,{})})})]})})]},t)}))})]})}),Object(P.jsx)(bn.a,{rowsPerPageOptions:[5,10,25],component:"div",count:t.length,rowsPerPage:u,page:o,onChangePage:function(e,t){s(t)},onChangeRowsPerPage:function(e){m(parseInt(e.target.value,10)),s(0)},labelRowsPerPage:"Zeilen pro Seite"})]})},On=Object(u.a)((function(e){return{paper:{width:"100%",minHeight:"400px",marginTop:"50px",marginBottom:"100px"}}}))((function(e){var t=e.classes,n=Object(a.useRef)(),i=r.a.useState([]),c=Object(f.a)(i,2),o=c[0],s=c[1],l=r.a.useState(""),d=Object(f.a)(l,2),u=d[0],m=d[1],j=r.a.useState(!1),b=Object(f.a)(j,2),h=b[0],p=b[1];return r.a.useEffect((function(){A.a.get($).then((function(e){return e.data})).then((function(e){return s(e)}))}),[]),Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)(lt.a,{fullWidth:!0,maxWidth:"sm",open:h,onClose:function(){return p(!1)},children:[Object(P.jsx)(ut.a,{children:Object(P.jsx)(mt.a,{children:""!==u&&Object(P.jsx)("audio",{ref:n,src:u,controls:!0,autoPlay:!0})})}),Object(P.jsx)(jt.a,{children:Object(P.jsx)(de.a,{onClick:function(){return p(!1)},children:"Cancel"})})]}),Object(P.jsx)(g.a,{elevation:6,className:t.paper,children:Object(P.jsxs)("div",{children:[Object(P.jsx)(C.a,{display:"flex",justifyContent:"center",children:Object(P.jsxs)(C.a,{style:{margin:"16px",border:"solid 1px",borderRadius:"8px",width:"60%",borderColor:"#e2e2e2"},children:[Object(P.jsx)(ce.a,{type:"button",sx:{p:"10px"},"aria-label":"search",children:Object(P.jsx)(on.a,{})}),Object(P.jsx)(cn.c,{sx:{ml:1,flex:1},placeholder:"Suchen nach Patient",inputProps:{"aria-label":"search google maps"}})]})}),Object(P.jsx)(fn,{tableDate:o,setRecordSrc:m,setOpenDialog:p})]})})]})})),gn=Object(kt.a)((function(){var e=St(),t=Object(a.useState)({meetings:[]}),n=Object(f.a)(t,2),i=n[0],c=n[1],o=Object(a.useState)(0),s=Object(f.a)(o,2),l=s[0],u=s[1],m=Object(a.useState)(!1),j=Object(f.a)(m,2),b=j[0],h=j[1],p=Object(a.useState)(""),x=Object(f.a)(p,2),O=x[0],g=x[1],v=Object(a.useState)(""),y=Object(f.a)(v,2),C=y[0],N=y[1],w=Object(a.useState)(15),S=Object(f.a)(w,2),k=S[0],T=S[1],z=function(e){var t=Object.assign({},i);t.meetings=e,c(t)};return Object(a.useEffect)((function(){var e=D.getSub();X(e).then((function(e){c(e.data)})).catch((function(e){console.log("Error: "+e)}))}),[]),Object(P.jsxs)("div",{className:e.container,children:[Object(P.jsx)(Qe,{picture:i.picture?i.picture:"",name:i.fullName}),Object(P.jsxs)(d.d,{children:[Object(P.jsx)(d.b,{exact:!0,path:"/dashboard/user/upgrade",children:Object(P.jsx)(It,{user:i,setUser:c})}),Object(P.jsx)(d.b,{exact:!0,path:"/dashboard/user/upgrade/checkout",children:Object(P.jsx)(Wt,{user:i,setUser:c})}),Object(P.jsx)(d.b,{path:"/",children:Object(P.jsxs)("main",{className:e.dashBody,children:[Object(P.jsxs)("div",{className:e.subHeader,children:[Object(P.jsxs)("h1",{children:["Hallo Dr.",D.getName()]}),Object(P.jsxs)(Tt.a,{value:l,onChange:function(e,t){u(t)},indicatorColor:"primary",textColor:"primary",children:[Object(P.jsx)(Dt.a,{label:"Event Types"}),Object(P.jsx)(Dt.a,{label:"Scheduled Events"}),Object(P.jsx)(Dt.a,{label:"Non Appointment"})]})]}),Object(P.jsxs)(Yt,{value:l,index:0,children:[Object(P.jsxs)("header",{className:e.panelHeader,children:[Object(P.jsxs)("div",{className:e.profileContainer,children:[Object(P.jsx)(Ue.a,{src:i.picture}),Object(P.jsxs)("div",{className:e.profileInfo,children:[Object(P.jsx)("span",{children:i.fullName}),Object(P.jsxs)("span",{children:["http://dentoconnect.herokuapp.com/",i.url]})]})]}),i.subscriber?Object(P.jsx)(r.a.Fragment,{children:Object(P.jsx)(de.a,{onClick:function(){N(""),T(15),g(""),h(!0)},className:e.addEventBtn,size:"large",variant:"outlined",children:"+ New Event Type"})}):null]}),Object(P.jsx)("section",{className:e.events,children:i.meetings.filter((function(e){return!!i.subscriber||60===e.duration})).map((function(e,t){return Object(P.jsx)(qt,{renderNewMeeting:z,url:i.url,sub:i._id,id:e._id,user:"".concat(i.given_name," ").concat(i.family_name),name:C,setEditId:g,setOpen:h,setDuration:T,duration:e.duration,subscribe:e.subscribe,meetingName:e.meetingName},t)}))}),Object(P.jsx)(de.a,{size:"large",variant:"contained",className:e.getStartedBtn,children:"Getting Started Guide"})]}),1===l&&Object(P.jsx)(Yt,{value:l,index:1,children:Object(P.jsx)("section",{className:e.events,children:Object(P.jsx)(rn,{user:i._id,timezone:i.timezone})})}),2===l&&Object(P.jsx)(Yt,{value:l,index:2,children:Object(P.jsx)(On,{})})]})})]}),Object(P.jsx)(Zt,{renderNewMeeting:z,sub:i._id,open:b,name:C,id:O,flag:C?1:0,setName:N,duration:k,setDuration:T,handleClose:function(){h(!1)}})]})})),vn=Object(Ke.a)({paper:{padding:"1.5rem",display:"flex",flexDirection:"column",justifyContent:"space-around",margin:"10rem auto",width:"60%",height:"400px"},"@media (max-width: 600px)":{paper:{width:"100%"}},textContainer:{display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center"},headerText:{"& h4":{color:"#484848",marginBottom:"0.5rem"},"& p":{marginBottom:"1rem"}},meetingIcon:{height:"23px",width:"23px",borderRadius:"50%",background:"darkorange"},durationContainer:{display:"flex","& h5":{marginLeft:"0.5rem",textTransform:"capitalize",fontWeight:"450"}},apptContainer:{display:"flex",color:"purple",marginTop:"0.5rem","& h6":{marginLeft:"0.5rem"}},timezone:{display:"flex",color:"gray",marginTop:"0.5rem","& h6":{marginLeft:"0.5rem"}}});var yn=function(){var e=vn(),t=Object(d.h)();return console.log(t.state.meetingName),Object(a.useEffect)((function(){"demo"===t.state.url&&alert("Meeting was not scheduled. Thank you for visiting!")}),[t.state.url]),Object(P.jsxs)(g.a,{elevation:4,className:e.paper,children:[Object(P.jsxs)("div",{className:e.headerText,children:[Object(P.jsx)(oe.a,{align:"center",variant:"h4",children:"Confirmed"}),Object(P.jsxs)(oe.a,{align:"center",variant:"body1",children:["You are scheduled with ",t.state.name]}),Object(P.jsx)(N.a,{})]}),Object(P.jsxs)("div",{className:e.textContainer,children:[Object(P.jsxs)("div",{className:e.durationContainer,children:[Object(P.jsx)("div",{className:e.meetingIcon}),Object(P.jsx)(oe.a,{variant:"h5",children:t.state.meetingName.title})]}),Object(P.jsxs)("div",{className:e.apptContainer,children:[Object(P.jsx)(O.e,{size:23}),Object(P.jsx)(oe.a,{variant:"h6",children:t.state.apptTime})]}),Object(P.jsxs)("div",{className:e.timezone,children:[Object(P.jsx)(O.b,{size:23}),Object(P.jsx)(oe.a,{variant:"h6",children:t.state.timezone})]})]}),Object(P.jsx)(oe.a,{align:"center",variant:"body1",children:"A calendar invitation has been sent to your email address."})]})},Cn=n(499),Nn=Object(Cn.a)("pk_test_51LUnjhLFoSBPD4vpQmqwJKvJfOyvOtpF6z3rCtq7aWDgcSrIYRkIusqFOSAKhkTMKZzveLkFb7F54IqetPOWi5l700MaMLxzJT"),wn=Object(u.a)((function(e){return{appName:{margin:"4rem 0 2rem 0",color:"#ff6d00",textAlign:"center","& span":{color:"rgba(0, 0, 0, 0.87)"}}}}))((function(e){var t=e.classes;return Object(P.jsx)(At.Elements,{stripe:Nn,children:Object(P.jsx)(r.a.Fragment,{children:Object(P.jsx)(l.a,{children:Object(P.jsxs)(m.a,{theme:x,children:[Object(P.jsx)(j.b,{}),Object(P.jsxs)(d.d,{children:[Object(P.jsx)(d.b,{path:"/finish",children:Object(P.jsx)(yn,{})}),Object(P.jsx)(ye,{path:"/dashboard",component:gn}),Object(P.jsx)(ye,{path:"/scheduler",component:nt}),Object(P.jsx)(d.b,{exact:!0,path:"/:url/:event/confirm",component:fe}),Object(P.jsx)(d.b,{exact:!0,path:"/:url/:event/:eventDuration",component:Nt}),Object(P.jsx)(ye,{path:"/profile/:id",component:ht}),Object(P.jsxs)(r.a.Fragment,{children:[Object(P.jsxs)("h1",{id:"appName",className:t.appName,children:["Dentoconnect",Object(P.jsx)("span",{children:" App"})]}),Object(P.jsxs)(d.d,{children:[Object(P.jsx)(d.a,{exact:!0,from:"/",to:"/login"}),Object(P.jsx)(d.b,{path:"/login",children:Object(P.jsx)(ne,{type1:"login"})}),Object(P.jsx)(d.b,{path:"/signup",children:Object(P.jsx)(ne,{type1:"signup"})}),Object(P.jsx)(ye,{path:"/profile_settings",type:"profile",activeStep:0,component:Me}),Object(P.jsx)(ye,{path:"/confirm",type:"confirm",activeStep:50,component:Me}),Object(P.jsx)(ye,{path:"/availability",type:"availability",activeStep:100,component:Me})]})]})]})]})})})})})),Sn=n(104),kn=n(500),Tn={isAuthenticated:!1,auth:{_id:"",fullName:""},token:""},Dn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn,t=arguments.length>1?arguments[1]:void 0;return t.type===E?Object(Oe.a)(Object(Oe.a)({},e),{},{isAuthenticated:!0,auth:t.payload,token:t.payload.access_tokens}):e},zn=n(24),En=[{_id:"",title:""}],Pn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:En,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_APPOINTMENT_TYPE":return[].concat(Object(zn.a)(e),[t.payload]);case"READ_APPOINTMENT_TYPES":return t.payload;case"UPDATE_APPOINTMENT_TYPES":return e.map((function(e){return e._id===t.payload._id?t.payload:e}));case"DELETE_APPOINTMENT_TYPE":return e.filter((function(e){return e._id!==t.payload}));default:return e}},In=Object(Sn.b)({auth:Dn,appointmentType:Pn}),An=Object(kn.a)({reducer:In});c.a.render(Object(P.jsxs)(o.a,{store:An,children:[Object(P.jsx)(wn,{}),Object(P.jsx)(s.ToastContainer,{})]}),document.getElementById("root"))}},[[606,1,2]]]);
//# sourceMappingURL=main.3195cfed.chunk.js.map