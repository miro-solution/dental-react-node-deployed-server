(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{111:function(e,t,a){e.exports=a(132)},118:function(e,t,a){},128:function(e,t,a){},130:function(e,t,a){},131:function(e,t,a){},132:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(16),l=a.n(i),c=a(18),o=a(47),m=a(7),s=a(186),u=a(187),d=a(96),p=a(76),f=a(164),g=Object(d.a)({typography:{fontFamily:'"Roboto"',fontSize:12,h1:{},subtitle1:{fontWeight:"bold"}},palette:{primary:{main:p.a.A700,light:p.a[400]},secondary:{main:"#d8e2f2",light:"#ebf2ff"},purple:{main:f.a.A200}}}),h=a(9),b=a(19),E=a(165),v=a(189),x=a(170),y=a(190),C=a(171),j=(a(118),function(e){var t=e.type,a=e.click;return r.a.createElement("div",{id:"authButton",className:"buttonContainer",onClick:a},r.a.createElement("span",null,"login"===t?"Sign in with your email":"Sign up with your email"))}),N=a(188),O="localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname?"http://127.0.0.1:8000":"https://dentoconnect.herokuapp.com",w="".concat(O,"/api/user"),k="".concat(O,"/api/user/login"),T="".concat(O,"/api/user/register"),S="".concat(O,"/api/user/uniqueUrl"),z="".concat(O,"/api/user/profile"),D="".concat(O,"/api/appointments"),B={loginHeader:{textAlign:"center"},paper:{width:"30%",height:"400px",display:"flex",justifyContent:"space-around",flexDirection:"column",margin:"0 auto",padding:"1.5rem"},helpText:{marginTop:"1rem",textAlign:"center","& a":{color:"orange"}},"@media (max-width: 600px)":{paper:{width:"85%"}},"@media (min-width: 601px)":{paper:{width:"55%"}},"@media (min-width: 700px)":{paper:{width:"400px"}}},I=a(33),W=a(34),P=new(function(){function e(){Object(I.a)(this,e),this.authenticated=!1,this.sub=null,this.email=null,this.name=null}return Object(W.a)(e,[{key:"login",value:function(e,t){this.authenticated=!0,e()}},{key:"logout",value:function(e){this.authenticated=!1,e()}},{key:"isAuthenticated",value:function(){return this.authenticated}},{key:"getSub",value:function(){return this.sub}},{key:"getEmail",value:function(){return this.email}},{key:"getName",value:function(){return this.name}},{key:"getToken",value:function(){return this.token}}]),e}()),A=Object(m.a)(B)((function(e){var t=e.classes,a=e.type,i=Object(n.useState)(),l=Object(h.a)(i,2),m=l[0],s=l[1],u=Object(n.useState)(),d=Object(h.a)(u,2),p=d[0],f=d[1],g=Object(n.useState)(),O=Object(h.a)(g,2),w=O[0],S=O[1],z=Object(n.useState)(null),D=Object(h.a)(z,2),B=D[0],I=D[1],W="login"===B,A=Object(o.g)();Object(n.useEffect)((function(){"login"===a&&I("login")}),[]);var F={header:"Log into your account",helpText:"Don't have an account? ",redirectText:"Sign Up",redirectPath:"/signup",handleClick:function(){var e;(e={email:p,password:w},N.a.post(k,e).then((function(e){return e})).catch((function(e){return{error:e.response.data}}))).then((function(e){P.login((function(){201===e.status&&(P.sub=e.data._id,P.email=e.data.email,P.name=e.data.fullName,P.token=e.data.access_token,A.push("/dashboard"))}))}))}},L={header:"Register an account",helpText:"Already have an account? ",redirectText:"Login",redirectPath:"/login",handleClick:function(){(function(e){return N.a.post(T,e).then((function(e){return e})).catch((function(e){return{error:e.response.data}}))})({name:m,email:p,password:w}).then((function(e){P.login((function(){201===e.status&&(P.sub=e.data._id,P.email=e.data.email,P.name=e.data.fullName,P.token=e.data.access_token,A.push("/profile_settings"))}))}))}};return r.a.createElement(E.a,{elevation:6,className:t.paper},r.a.createElement("h2",{className:t.loginHeader},W?F.header:L.header),"login"===B?r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{name:"email",label:"Email",type:"text",variant:"outlined",value:p,onChange:function(e){return f(e.target.value)},InputProps:{startAdornment:r.a.createElement(x.a,{position:"start"},r.a.createElement(b.e,null))}}),r.a.createElement(v.a,{name:"password",label:"Password",variant:"outlined",margin:"normal",type:"password",value:w,onChange:function(e){return S(e.target.value)},InputProps:{startAdornment:r.a.createElement(x.a,{position:"start"},r.a.createElement(b.c,null))}})):r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{name:"fullname",label:"Name",type:"text",variant:"outlined",value:m,size:"small",margin:"normal",onChange:function(e){return s(e.target.value)},InputProps:{startAdornment:r.a.createElement(x.a,{position:"start"},r.a.createElement(b.g,null))}}),r.a.createElement(v.a,{name:"email",label:"Email",type:"text",variant:"outlined",value:p,size:"small",margin:"normal",onChange:function(e){return f(e.target.value)},InputProps:{startAdornment:r.a.createElement(x.a,{position:"start"},r.a.createElement(b.e,null))}}),r.a.createElement(v.a,{name:"password",label:"Password",type:"password",variant:"outlined",value:w,size:"small",margin:"normal",onChange:function(e){return S(e.target.value)},InputProps:{startAdornment:r.a.createElement(x.a,{position:"start"},r.a.createElement(b.c,null))}}),r.a.createElement(v.a,{name:"password",label:"Confirm Password",type:"password",variant:"outlined",value:w,size:"small",margin:"normal",onChange:function(e){return S(e.target.value)},InputProps:{startAdornment:r.a.createElement(x.a,{position:"start"},r.a.createElement(b.c,null))}})),r.a.createElement(j,{type:a,click:W?F.handleClick:L.handleClick}),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(C.a,null),r.a.createElement(y.a,{className:t.helpText},W?F.helpText:L.helpText,r.a.createElement(c.b,{to:"login"===B?F.redirectPath:L.redirectPath,onClick:function(){I("login"===B?"signup":"login")}},W?F.redirectText:L.redirectText))))})),F=function(e){return{paper:{width:"65%",height:"700px",maxWidth:"1000px",display:"flex",justifyContent:"space-between",flexDirection:"row",margin:"5rem auto"},backButton:{fontSize:"2rem",padding:"0",color:e.palette.primary.light,marginBottom:"2rem"},name:{color:"gray",letterSpacing:"1px",fontWeight:"bold",marginBottom:"0.5rem"},meetingName:{color:"#484848",textTransform:"capitalize",fontWeight:"bold",letterSpacing:"1px",marginBottom:"0.5rem"},meetingInfo:{flex:"0 0 35%",padding:"1.5rem",borderRight:"1px solid #eee"},meetingDuration:{color:"gray",display:"flex",alignItems:"center",marginBottom:"1rem","& span":{marginLeft:"0.5rem",fontWeight:"bold"}},eventDetails:{fontSize:"1rem","& div":{padding:"0.2rem 0rem"}},eventTime:{color:e.palette.purple.main,fontWeight:"bold",marginBottom:"0.5rem",display:"flex","& span":{marginLeft:"0.5rem"}},timeZone:{display:"flex",color:"gray",fontWeight:"bold","& span":{marginLeft:"0.5rem"}},form:{width:"66%"},confirmForm:{flex:"0 0 65%",padding:"1.5rem",flexDirection:"column","& div":{fontSize:"0.8rem",padding:"0.2rem 0"}},textField:{width:"100%"},textArea:{padding:"0.5rem",fontSize:"0.8rem",borderRadius:"5px",border:"1px solid #bbb",width:"100%",outline:"none","&:hover":{border:"1px solid black"},"&:focus":{border:"2px solid ".concat(e.palette.primary.main)}},button:{background:"linear-gradient(to right, ".concat(e.palette.primary.main,", ").concat(e.palette.primary.light,")"),color:"#eee",fontSize:"1rem",textTransform:"none",padding:"0.5rem 1rem",margin:"1rem 0 0.5rem 0"},"@media (max-width: 1080px)":{paper:{flexDirection:"column",position:"relative",height:"100%"},backButton:{position:"absolute",top:"1rem",left:"1rem"},meetingInfo:{flex:"auto",display:"flex",flexDirection:"column",alignItems:"center",borderBottom:"1px solid #ccc","& h1, & h4":{margin:"0.2rem 0"}},eventDetails:{width:"100%",display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center","& div":{padding:"0 1rem"}},confirmForm:{flex:"auto",display:"flex",flexDirection:"column",alignItems:"center"}},"@media (max-width: 600px)":{eventDetails:{flexDirection:"column",alignItems:"left","& div":{padding:"0 0.5rem"}},form:{width:"90%"}}}},L=a(134),M=a(77),R=a(168),_=a(172),U=a(93),H=a(20),Y=a.n(H);var G=Object(m.a)(F)((function(e){var t=e.classes,a=Object(o.h)(),i=Object(o.i)().url,l=a.state.clientTz,c=H.tz(a.state.time,l),m=c.format(),s="".concat(c.format("h:mma")," - ").concat(c.add(a.state.meeting.duration,"m").format("h:mma"),"\n  ").concat(["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][c.day()],", ").concat(["January","February","March","April","May","June","July","August","September","October","November","December"][c.month()]," ").concat(c.date(),", ").concat(c.year()),u=Object(n.useState)({name:"",error:!1,errorText:""}),d=Object(h.a)(u,2),p=d[0],f=d[1],g=Object(n.useState)({email:"",error:!1,errorText:""}),x=Object(h.a)(g,2),y=x[0],C=x[1],j=Object(n.useState)(""),N=Object(h.a)(j,2),O=N[0],w=N[1];Object(n.useEffect)((function(){"demo"===i&&alert("This is a demo account. Scheduling an event will not add it to any google accounts.")}),[i]);var k=function(e){e&&e.target.value?f({name:e.target.value,error:!1,errorText:""}):f({name:"",error:!0,errorText:"Name is required."})},T=function(e){e&&e.target.value?C({email:e.target.value,error:!1,errorText:""}):C({email:"",error:!0,errorText:"Email is required."})},S=Object(o.g)();return r.a.createElement(E.a,{elevation:6,className:t.paper},r.a.createElement("div",{className:t.meetingInfo},r.a.createElement(L.a,{className:t.backButton,"aria-label":"back-to-scheduler",onClick:function(){S.push("/".concat(i,"/").concat(a.state.meeting.duration))}},r.a.createElement(U.a,{size:45})),r.a.createElement(M.a,{variant:"h6",className:t.name},a.state.name),r.a.createElement(M.a,{variant:"h4",className:t.meetingName},a.state.meeting.meetingName),r.a.createElement("div",{className:t.eventDetails},r.a.createElement("div",{className:t.meetingDuration},r.a.createElement(b.a,{size:23}),r.a.createElement("span",null,a.state.meeting.duration," min")),r.a.createElement("div",{className:t.eventTime},r.a.createElement(b.d,{size:23})," ",r.a.createElement("span",null,s)),r.a.createElement("div",{className:t.timeZone},r.a.createElement(b.b,{size:23}),r.a.createElement("span",null,l.replace("_"," ")+" (GMT"+H.tz(l).format("Z")+")")))),r.a.createElement("div",{className:t.confirmForm},r.a.createElement("h2",null,"Enter Details"),r.a.createElement("form",{className:t.form},r.a.createElement("div",null,"Name:"),r.a.createElement(v.a,{required:!0,className:t.textField,error:p.error,helperText:p.errorText,id:"name-field",variant:"outlined",name:"name",onChange:k}),r.a.createElement("div",null,"Email: "),r.a.createElement(v.a,{required:!0,className:t.textField,error:y.error,helperText:y.errorText,id:"email-field",variant:"outlined",name:"email",onChange:T}),r.a.createElement("div",null,"Meeting Notes: "),r.a.createElement(R.a,{className:t.textArea,"aria-label":"meeting-comments",rowsMin:7,onChange:function(e){return w(e.target.value)}}),r.a.createElement(_.a,{className:t.button,variant:"contained",color:"primary",onClick:function(){if(!p.name||!y.email)return k(),void T();if("demo"!==i){var e={guestName:p.name,guestEmail:y.email,guestComment:O,guestTz:l,meetingName:a.state.meeting.meetingName,meetTime:a.state.meeting.duration,apptTime:m,url:i};fetch("/api/appointments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){201!==e.status?S.push("/".concat(i,"/").concat(a.state.meeting.duration)):S.push("/finish",{url:i,name:a.state.name,meetingName:a.state.meeting.meetingName,apptTime:s,timezone:a.state.clientTz})}))}else S.push("/finish",{url:i,name:a.state.name,meetingName:a.state.meeting.meetingName,apptTime:s,timezone:a.state.clientTz})}},"Schedule Event"))))})),J=a(97);var q=function(e){var t=e.component,a=Object(J.a)(e,["component"]);return r.a.createElement(o.b,Object.assign({},a,{render:function(e){return P.isAuthenticated()?r.a.createElement(t,a):r.a.createElement(o.a,{to:"/login"})}}))},Z=a(173);var $=Object(m.a)((function(e){return{root:{flex:"0 0 40%",alignSelf:"center",height:"0.5rem",borderRadius:"5px"},colorPrimary:{backgroundColor:"#ccc"},barColorPrimary:{backgroundColor:e.palette.primary.main,borderRadius:"5px"}}}))((function(e){var t=e.classes,a=e.activeStep;return r.a.createElement(Z.a,{classes:{root:t.root,colorPrimary:t.colorPrimary,barColorPrimary:t.barColorPrimary},variant:"determinate",value:a})})),K=a(191),Q=a(174),V={paper:{width:"50%",height:"400px",display:"flex",justifyContent:"space-around",flexDirection:"column",margin:"0 auto",padding:"0 1.5rem"},headRow:{display:"flex",flexDirection:"column",height:"5rem"},headContent:{height:"100%",display:"flex",justifyContent:"space-between",flexDirection:"row","& h2":{flex:"0 0 50%",alignSelf:"center"}},urlField:{"& input":{borderLeft:"1px solid #eee",paddingLeft:"0.8rem"}},btnContainer:{margin:"auto"},connectedPage:{margin:"0 0 2rem 0",display:"flex",flexDirection:"column",flexGrow:1,"& h3":{padding:"1rem 1rem 1rem 0",margin:"0.5rem 0 0 0",flexGrow:1},"& div":{padding:"1rem 1rem 1rem 1.5rem",margin:"0.5rem 0 0 0",flexGrow:1,"& span":{fontWeight:"bold"}}},hoursRow:{display:"flex",flexDirection:"row","& span":{fontSize:"1rem",padding:" 0 5% 0 5%",alignSelf:"center"}},checkBoxGroup:{border:"1px solid #ccc",borderRadius:"5px","& label:last-child":{border:"none"}},checkBoxLabel:{borderRight:"1px solid #eee",margin:"0px",padding:"0.2rem 0 0.5rem 0",flex:"0 0 14.28%"},checkBoxLabelLabel:{fontSize:"0.7rem"}};var X=Object(m.a)((function(e){return{root:{background:"linear-gradient(to right, ".concat(e.palette.primary.main,", ").concat(e.palette.primary.light,")"),color:"#eee",textTransform:"none",width:"8rem",height:"2.5rem",alignSelf:"center",margin:"1rem 0 0.5rem 0"}}}))((function(e){var t=e.classes,a=e.submitForm,n=e.text;return r.a.createElement(_.a,{className:t.root,onClick:a},n)}));var ee=Object(m.a)(V)((function(e){var t=e.classes,a=e.url,n=e.setUrl,i=e.setTimeZone,l=e.btnText,c=e.handleProfileSubmit;return r.a.createElement(Q.a,{container:!0,spacing:4,alignItems:"center"},r.a.createElement(Q.a,{item:!0,xs:4},r.a.createElement("div",null,"Create Your CalendApp URL: ")),r.a.createElement(Q.a,{item:!0,xs:8},r.a.createElement(v.a,{className:t.urlField,id:"url-field",variant:"outlined",value:a,onChange:function(e){return n(e.target.value)},InputProps:{startAdornment:r.a.createElement(x.a,{className:t.adornment,position:"start",component:"div"},"calendapp.com/")}})),r.a.createElement(Q.a,{item:!0,xs:4},r.a.createElement("div",null,"Select your time zone: ")),r.a.createElement(Q.a,{item:!0,xs:8},r.a.createElement(K.a,{id:"timezone-field",options:Y.a.tz.names(),getOptionLabel:function(e){return e+" (GMT"+Y.a.tz(e).format("Z")+")"},renderInput:function(e){return r.a.createElement(v.a,Object.assign({},e,{label:"Type a city or zone",variant:"outlined"}))},onChange:function(e,t){return i(t)}})),r.a.createElement("div",{className:t.btnContainer},r.a.createElement(X,{text:l,submitForm:c})))}));var te=Object(m.a)(V)((function(e){var t=e.btnText,a=e.handleConfirmSubmit,n=e.classes,i=e.email;return r.a.createElement("div",{className:n.connectedPage},r.a.createElement("h3",null,"Here's how CalendApp will work with ",r.a.createElement("span",null,i),":"),r.a.createElement(C.a,null),r.a.createElement("div",null,'1. We will check "',r.a.createElement("span",null,i),'" for conflicts'),r.a.createElement(C.a,null),r.a.createElement("div",null,'2. We will add event to "',r.a.createElement("span",null,i),'"'),r.a.createElement(C.a,null),r.a.createElement(X,{text:t,submitForm:a}))})),ae=a(58),ne=a(59),re=a(194),ie=a(175),le=a(176),ce=Object(m.a)((function(e){return{root:{color:e.palette.primary.light,"&$checked":{color:e.palette.primary.main}},checked:{}}}))((function(e){return r.a.createElement(re.a,Object.assign({color:"default"},e))}));var oe=Object(m.a)(V)((function(e){var t=e.classes,a=e.setHours,n=e.hours,i=e.setDays,l=e.days,c=e.btnText,o=e.submitForm,m=function(e){i(Object(ne.a)({},l,Object(ae.a)({},e.target.name,e.target.checked)))},s=function(e){a(Object(ne.a)({},n,Object(ae.a)({},e.target.name,e.target.value)))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("div",null,"Available Hours: "),r.a.createElement("div",{className:t.hoursRow},r.a.createElement(v.a,{id:"start-hours-field",value:n.start,variant:"outlined",type:"time",name:"start",onChange:s}),r.a.createElement("span",null,"-"),r.a.createElement(v.a,{id:"end-hours-field",value:n.end,variant:"outlined",type:"time",name:"end",onChange:s}))),r.a.createElement("div",null,r.a.createElement("div",null,"Available Days: "),r.a.createElement(le.a,{row:!0,className:t.checkBoxGroup},function(e){return Object.keys(e).map((function(a){return r.a.createElement(ie.a,{id:a+"-checkbox-field",classes:{root:t.checkBoxLabel,label:t.checkBoxLabelLabel},key:a,control:r.a.createElement(ce,{checked:e[a],onChange:m,name:a}),label:a+"s",labelPlacement:"bottom"})}))}(l))),r.a.createElement(X,{text:c,submitForm:o}))})),me=function(e){if(!e.ok)throw Error(e.statusText);return e},se={profile:{header:"Welcome to CalendApp!",btnText:"Continue"},confirm:{header:"Your Google Calendar is connected!",btnText:"Continue"},availability:{header:"Set your availability",btnText:"Finish"}},ue=Object(m.a)(V)((function(e){var t=e.classes,a=e.type,i=e.activeStep,l=Object(n.useState)(""),c=Object(h.a)(l,2),m=c[0],s=c[1],u=Object(n.useState)(""),d=Object(h.a)(u,2),p=d[0],f=d[1],g=Object(n.useState)({start:"09:00",end:"17:00"}),b=Object(h.a)(g,2),v=b[0],x=b[1],y=Object(n.useState)({Sunday:!1,Monday:!0,Tuesday:!0,Wednesday:!0,Thursday:!0,Friday:!0,Saturday:!1}),j=Object(h.a)(y,2),O=j[0],w=j[1],k=Object(o.g)(),T=function(){k.push("/availability")},D=function(){""!==m&&""!==p&&function(e){return N.a.get("".concat(S,"/?url=").concat(e)).then((function(e){return e})).catch((function(e){return{error:e.response.data}}))}(m).then((function(e){e.data.isUnique&&k.push("/confirm")})).catch((function(e){console.error(e)}))},B=function(){var e,t,a={url:m,timeZone:p,hours:v,days:O},n=P.getSub();(e=n,t=a,N.a.put("".concat(z,"/").concat(e),t).then((function(e){return e})).catch((function(e){return{error:e.response.data}}))).then((function(e){200===e.status&&k.push("/dashboard")})).catch((function(e){console.error(e)}))};return r.a.createElement(E.a,{elevation:6,className:t.paper},r.a.createElement("div",{className:t.headRow},r.a.createElement("div",{className:t.headContent},r.a.createElement("h2",null,se[a].header),r.a.createElement($,{activeStep:i})),r.a.createElement(C.a,{className:t.divider})),function(e){if("profile"===e)return r.a.createElement(ee,{handleProfileSubmit:D,btnText:se[e].btnText,url:m,timeZone:p,setUrl:s,setTimeZone:f});if("confirm"===e){var t=P.getEmail();return r.a.createElement(te,{btnText:se[e].btnText,handleConfirmSubmit:T,email:t})}return"availability"===e?r.a.createElement(oe,{btnText:se[e].btnText,submitForm:B,hours:v,setHours:x,setDays:w,days:O}):void 0}(a))})),de=a(177),pe=Object(de.a)((function(e){return{container:{height:"100vh",display:"flex",flexDirection:"column"},subHeader:{padding:"3rem 15rem 0 15rem",flex:"0 1 auto"},dashBody:{flex:"2 0 auto",display:"flex",flexDirection:"column"},panelHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"3rem 0"},profileContainer:{display:"flex",alignItems:"center"},profileInfo:{display:"flex",flexDirection:"column","& :first-child":{marginLeft:"1.5rem",fontWeight:"bold"},"& :last-child":{marginLeft:"1.5rem",color:"grey"}},addEventBtn:{color:e.palette.primary.main,border:"1px solid ".concat(e.palette.primary.main)},getStartedBtn:{borderRadius:"32px",padding:"1rem 2rem",margin:"9rem -7rem 0 0",float:"right",background:e.palette.primary.main,color:"white"},events:{display:"flex",flexWrap:"wrap"},"@media (max-width: 1680px)":{subHeader:{padding:"2rem 10rem 0 10rem"}},"@media (max-width: 1280px)":{subHeader:{padding:"2rem 5rem 0 5rem"},getStartedBtn:{margin:"9rem -3rem 0 0"}},"@media (max-width: 1080px)":{events:{flexDirection:"column"},subHeader:{padding:"2rem 10rem 0 10rem"},panelHeader:{padding:"3rem 5rem"},getStartedBtn:{margin:"3rem "}},"@media (max-width: 880px)":{subHeader:{padding:"2rem 5rem 0 5rem"}},"@media (max-width: 650px)":{panelHeader:{flexDirection:"column",padding:"1.5rem 5rem"},profileInfo:{marginBottom:"2rem"},profileContainer:{alignItems:"flex-start"}},"@media (max-width: 500px)":{subHeader:{padding:"2rem 2rem 0 2rem"},panelHeader:{padding:"1.5rem 2rem"}}}})),fe=a(197),ge=a(192),he=a(184),be=a(198),Ee=Object(de.a)((function(e){return{eventsContainer:{width:"24%",height:"225px",display:"flex",flexDirection:"column",justifyContent:"space-between",padding:"0 2rem 2rem 2rem",margin:"1rem"},eventDesc:{display:"flex",flexDirection:"column",paddingLeft:"1.5rem",flex:"4","& h3":{margin:"0"},"& h6":{color:"grey"}},settingsIcon:{color:"lightgrey",marginTop:"1rem",float:"right",marginRight:"-1rem"},linksContainer:{flex:"1",paddingTop:"1rem",margin:"0 -2rem",borderTop:"1px solid ".concat(e.palette.secondary.main),display:"flex",justifyContent:"space-around","& div":{display:"flex",alignItems:"center","& span":{marginLeft:"1rem"}}},linkButton:{border:"1px solid ".concat(e.palette.primary.main),color:e.palette.primary.main},"@media (max-width: 1680px)":{eventsContainer:{width:"30%"}},"@media (max-width: 1080px)":{eventsContainer:{width:"65%",margin:"1.5rem auto"},linksContainer:{justifyContent:"space-between",padding:"1rem 2rem 0 2rem"}},"@media (max-width: 500px)":{eventsContainer:{width:"80%"}}}})),ve=a(73);var xe=Object(fe.a)((function(e){var t=e.duration,a=e.meetingName,n=e.url,i=(e.user,Ee()),l=null;switch(t){case 15:l="darkmagenta";break;case 30:l="olivedrab";break;case 60:l="darkorange";break;default:l="crimson"}var o={borderTop:"8px solid ".concat(l),borderRadius:"1rem",margin:"0 -2rem"};return r.a.createElement(E.a,{elevation:6,className:i.eventsContainer},r.a.createElement("div",{style:o}),r.a.createElement("div",null,r.a.createElement(ve.b,{className:i.settingsIcon,size:30})),r.a.createElement("div",{className:i.eventDesc},r.a.createElement("h3",null,a),r.a.createElement(M.a,{variant:"subtitle1"},"One-on-one")),r.a.createElement("div",{className:i.linksContainer},r.a.createElement("div",null,r.a.createElement(c.b,{target:"_blank",to:{pathname:"/".concat(n,"/").concat(t)}},t," min")),r.a.createElement(_.a,{className:i.linkButton,variant:"outlined"},"Copy Link")))})),ye=Object(de.a)((function(e){return{navbar:{boxShadow:"3px 3px 5px ".concat(e.palette.secondary.main),display:"flex",justifyContent:"space-between",padding:"1.5rem 5rem","& span":{color:e.palette.primary.main},"& div":{display:"flex",alignItems:"center",fontSize:"1.2rem","& nav":{marginRight:"5rem","& :last-child":{color:e.palette.primary.light}}}},link:{margin:"0 1rem",textDecoration:"none",color:"black",fontWeight:"bold"},profile:{display:"flex",justifyContent:"space-around","& span":{marginLeft:"1rem",color:"black",fontWeight:"bold"}},"@media (max-width: 1280px)":{navbar:{padding:"1.5rem 2rem","& div":{"& nav":{marginRight:"2rem"}}}},"@media (max-width: 880px)":{navbar:{justifyContent:"space-around","& div":{"& nav":{marginRight:"2rem"}}}},"@media (max-width: 800px)":{navbar:{padding:"2rem 0","& h1":{display:"none"},"& div":{"& nav":{marginRight:"0"}}},profile:{"& > *, div":{display:"none"}}}}}));var Ce=function(e){var t=e.picture,a=e.name,n=ye();return r.a.createElement("header",{className:n.navbar},r.a.createElement("h1",null,r.a.createElement("span",null,"calend"),"app"),r.a.createElement("div",null,r.a.createElement("nav",null,r.a.createElement(c.b,{className:n.link,to:"/dashboard"},"Home"),r.a.createElement(c.b,{className:n.link,to:"/dashboard"},"Integration"),r.a.createElement(c.b,{className:n.link,to:"/dashboard/user/upgrade"},"Upgrade")),r.a.createElement("div",{className:n.profile},r.a.createElement(be.a,{src:t}),r.a.createElement("span",null,a))))},je=Object(de.a)((function(e){return{panelContainer:{background:e.palette.secondary.light,padding:"0 15rem",fontSize:"1.1rem",flex:"1 1 auto"},"@media (max-width: 1680px)":{panelContainer:{padding:"0 10rem"}},"@media (max-width: 1280px)":{panelContainer:{padding:"0 5rem"}},"@media (max-width: 880px)":{panelContainer:{padding:"0"}}}}));var Ne=Object(fe.a)((function(e){var t=je();return r.a.createElement("div",{hidden:e.value!==e.index,className:t.panelContainer},e.children)})),Oe=a(195),we=a(178),ke=a(179),Te=a(180),Se=a(181),ze=Object(de.a)((function(e){return{listContainer:{listStyle:"none",margin:"2rem 0 1rem",padding:"0",cursor:"pointer","& li":{display:"inline",padding:"1rem 2rem",border:"1px solid lightgrey",borderRight:"none"},"& li:last-child":{borderRight:"1px solid lightgrey"}},desc:{display:"inline-block"},eventField:{margin:"1rem 0"}}}));a(128);var De=function(e){var t=e.open,a=e.handleClose,i=e.sub,l=e.renderNewMeeting,c=ze(),o=Object(n.useState)(""),m=Object(h.a)(o,2),s=m[0],u=m[1],d=Object(n.useState)(15),p=Object(h.a)(d,2),f=p[0],g=p[1],b=function(e){var t=document.getElementsByClassName("selected");t.length>0&&(t[0].className=t[0].className.replace("selected","")),e.target.setAttribute("class","selected"),g(e.target.value)};return r.a.createElement(Oe.a,{fullWidth:!0,maxWidth:"sm",open:t,onClose:a},r.a.createElement(we.a,null,"Create New Event"),r.a.createElement(ke.a,null,r.a.createElement(Te.a,null,"Enter a name for your event and select a duration."),r.a.createElement(v.a,{fullWidth:!0,required:!0,variant:"outlined",label:"Event name",value:s,onChange:function(e){u(e.target.value)}}),r.a.createElement("div",{className:c.eventField},r.a.createElement(Te.a,null,"Event Duration *"),r.a.createElement("ul",{className:c.listContainer},r.a.createElement("li",{className:"selected",value:15,onClick:b},"15 min"),r.a.createElement("li",{value:30,onClick:b},"30 min"),r.a.createElement("li",{value:45,onClick:b},"45 min"),r.a.createElement("li",{value:60,onClick:b},"60 min")))),r.a.createElement(Se.a,null,r.a.createElement(_.a,{onClick:a},"Cancel"),r.a.createElement(_.a,{onClick:function(){fetch("/api/user/meetings/".concat(i),{method:"POST",headers:{"Content-Type":"application/json"},mode:"cors",body:JSON.stringify({meetingName:s,duration:f})}).then(me).then((function(e){l({meetingName:s,duration:f}),a()})).catch((function(e){return console.log(e)}))}},"Submit")))},Be=a(55),Ie=a.n(Be),We=a(74);var Pe=Object(m.a)((function(e){return{panelContainer:{background:e.palette.secondary.light,fontSize:"1.1rem",flex:"1 1 auto"}}}))((function(e){var t=e.value,a=e.index,n=e.classes,i=e.children;return r.a.createElement("div",{hidden:t!==a,className:n.panelContainer},i)})),Ae=a(196),Fe=a(182),Le=a(183);var Me=function(e){var t=e.open,a=e.handleClose,n=e.appointment,i=(e.renderNewMeeting,e.setUpdate);return r.a.createElement(Oe.a,{fullWidth:!0,maxWidth:"sm",open:t,onClose:a},r.a.createElement(we.a,null,"Are you sure?"),r.a.createElement(ke.a,null,r.a.createElement(Te.a,null,"Confirm to cancel event.")),r.a.createElement(Se.a,null,r.a.createElement(_.a,{onClick:a},"Exit"),r.a.createElement(_.a,{onClick:function(){fetch("/api/appointments/".concat(n._id),{method:"DELETE"}).then(me).then((function(e){i(!0),a()})).catch((function(e){return console.log(e)}))}},"Confirm Cancel")))};var Re=Object(m.a)((function(e){return{appointment:{width:"100%"},expansionSummary:{"&:hover":{backgroundColor:"#f7f7f7"}},time:{verticalAlign:"bottom",fontSize:"0.8rem"},icon:{verticalAlign:"bottom",height:20,width:20},details:{alignItems:"center"},column:{width:"300px",padding:"0 5rem 0 3rem"},button:{width:"90%",textTransform:"none",fontSize:"0.8rem"}}}))((function(e){var t=e.classes,a=e.appointment,i=e.setUpdate,l=Object(n.useState)(!1),c=Object(h.a)(l,2),o=c[0],m=c[1];return r.a.createElement("div",{className:t.appointment},r.a.createElement(Ae.a,null,r.a.createElement(Fe.a,{expandIcon:r.a.createElement(ve.a,null),"aria-controls":"event summary",id:a.apptTime,className:t.expansionSummary},r.a.createElement("div",{className:t.column},r.a.createElement(b.d,{size:23,className:t.icon})," ",r.a.createElement("span",{className:t.time},H(a.apptTime).tz(a.userTz).format("hh:mma")," -",H(a.apptTime).tz(a.userTz).add(a.meetTime,"m").format("hh:mma"))),r.a.createElement("div",null,r.a.createElement(M.a,{variant:"subtitle1"},a.guestName),r.a.createElement(M.a,null,a.meetingName))),r.a.createElement(Le.a,{className:t.details},r.a.createElement("div",{className:t.column},r.a.createElement(_.a,{onClick:function(){m(!0)},className:t.button,variant:"outlined",color:"primary",startIcon:r.a.createElement(b.f,{size:15})},"Cancel"),r.a.createElement(Me,{appointment:a,open:o,handleClose:function(){m(!1)},setUpdate:i})),r.a.createElement("div",null,r.a.createElement(M.a,{variant:"subtitle1"},"Email"),r.a.createElement(M.a,{gutterBottom:!0},a.guestEmail),r.a.createElement(M.a,{variant:"subtitle1"},"Invitee Timezone"),r.a.createElement(M.a,{gutterBottom:!0},a.guestTz.replace("_"," ")))),r.a.createElement(C.a,null)))})),_e=a(20);var Ue=Object(m.a)({root:{},date:{padding:".5rem 1rem",borderTop:"1px solid #ccc",borderBottom:"1px solid #ccc"}})((function(e){var t=e.classes,a=e.appointments,n=e.setUpdate;return r.a.createElement("div",{className:t.root},r.a.createElement(M.a,{variant:"h6",className:t.date},_e(a[0].apptTime).tz(a[0].userTz).format("dddd, MMMM Do YYYY")),a.map((function(e){return r.a.createElement(Re,{appointment:e,key:e._id,setUpdate:n})})))})),He=function(e,t){var a={headers:{"x-access-token":P.getToken()}};return N.a.get("".concat(D,"/").concat(e,"?timezone=").concat(t),a).then((function(e){return e})).catch((function(e){return{error:e.response.data}}))},Ye=Object(m.a)((function(e){return{paper:{width:"100%",minHeight:"400px",marginTop:"50px",marginBottom:"100px"}}}))((function(e){var t=e.classes,a=e.timezone,i=e.user,l=Object(n.useState)(0),c=Object(h.a)(l,2),o=c[0],m=c[1],s=Object(n.useState)([]),u=Object(h.a)(s,2),d=u[0],p=u[1],f=Object(n.useState)(!1),g=Object(h.a)(f,2),b=g[0],v=g[1];Object(n.useEffect)((function(){i&&function(){var e=Object(We.a)(Ie.a.mark((function e(){return Ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:He(i,a).then((function(e){p(e.data),v(!1)})).catch((function(e){console.error("Error: "+e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[a,i,b]);var x=function(e){if(e)return Object.keys(e).map((function(t){return r.a.createElement(Ue,{appointments:e[t],key:t,setUpdate:v})}))};return r.a.createElement(E.a,{elevation:6,className:t.paper},r.a.createElement("div",null,r.a.createElement(ge.a,{value:o,onChange:function(e,t){m(t)},indicatorColor:"primary",textColor:"primary"},r.a.createElement(he.a,{label:"Upcoming"}),r.a.createElement(he.a,{label:"Past"})),r.a.createElement(Pe,{value:o,index:0},x(d.upcoming)),r.a.createElement(Pe,{value:o,index:1},x(d.past))))})),Ge=a(185),Je=Object(de.a)((function(e){return{upgradeContainer:{background:e.palette.secondary.light,flex:"1 1 auto",boxShadow:"inset 0 15px 15px -20px #305490","& header":{margin:"5rem 0 1rem","& h5":{fontWeight:"bold",marginBottom:"0.5rem",color:""},"& h6":{color:"darkgray",marginTop:"0.5rem"}}},plansContainer:{display:"flex",justifyContent:"center"},plan:{width:"400px",margin:"2rem",height:"350px",display:"flex",flexDirection:"column",justifyContent:"space-around","& a":{margin:"0 auto"}},basicBtn:{borderColor:"orange",color:"orange",width:"150px",margin:"0 auto"},planDetails:{textAlign:"center",flex:"1","& ul":{listStyle:"none",padding:"0"}},pricing:{display:"flex",justifyContent:"space-around",flexDirection:"column",flex:"3","& div":{"& h5":{color:e.palette.purple.main,fontWeight:"bold"},"& h6":{fontWeight:"bold"}}},premPricing:{display:"flex",justifyContent:"space-around",flexDirection:"column",flex:"3","& div":{"& h5":{color:e.palette.primary.main,fontWeight:"bold"},"& h6":{fontWeight:"bold"}}},premBtn:{color:"white",margin:"0 auto",background:e.palette.primary.main,width:"150px","&:hover":{background:e.palette.primary.main}},loaderContainer:{display:"flex",justifyContent:"center"}}}));var qe=Object(fe.a)((function(e){var t=e.user,a=e.setUser,i=Je(),l=Object(n.useState)(!1),o=Object(h.a)(l,2),m=o[0],s=o[1];return r.a.createElement("div",{className:i.upgradeContainer},r.a.createElement("header",null,r.a.createElement(M.a,{className:i.headerTitle,align:"center",variant:"h4"},"Upgrade Plan"),r.a.createElement(M.a,{className:i.headerSub,align:"center",variant:"subtitle1"},"You are on the free basic plan.")),r.a.createElement("main",{className:i.plansContainer},r.a.createElement(E.a,{className:i.plan,elevation:6},r.a.createElement("div",{className:i.pricing},r.a.createElement("div",null,r.a.createElement(M.a,{align:"center",variant:"h5"},"Basic"),r.a.createElement(M.a,{align:"center",variant:"subtitle1"},"$0/month")),t.subscriber?m?r.a.createElement("div",{className:i.loaderContainer},r.a.createElement(Ge.a,null)):r.a.createElement(_.a,{onClick:function(){s(!0),fetch("/api/subscription/unsubscribe/".concat(t.sub),{method:"DELETE"}).then(me).then((function(e){s(!1);var n=Object(ne.a)({},t);n.subscriber=!1,a(n)})).catch((function(e){console.log(e)}))},size:"large",className:i.basicBtn,variant:"outlined"},"Unsubscribe"):r.a.createElement(_.a,{size:"large",className:i.basicBtn,variant:"outlined"},"Your Plan")),r.a.createElement(C.a,null),r.a.createElement("div",{className:i.planDetails},r.a.createElement("ul",null,r.a.createElement("li",{className:i.listEle},"Single Event Type")))),r.a.createElement(E.a,{className:i.plan,elevation:6},r.a.createElement("div",{className:i.premPricing},r.a.createElement("div",null,r.a.createElement(M.a,{align:"center",variant:"h5"},"Premium"),r.a.createElement(M.a,{align:"center",variant:"subtitle1"},"$5/month")),t.subscriber?r.a.createElement(_.a,{size:"large",className:i.premBtn,variant:"outlined"},"Your Plan"):r.a.createElement(c.b,{to:"/dashboard/user/upgrade/checkout"},r.a.createElement(_.a,{size:"large",className:i.premBtn,variant:"contained"},"Upgrade"))),r.a.createElement(C.a,null),r.a.createElement("div",{className:i.planDetails},r.a.createElement("ul",null,r.a.createElement("li",{className:i.listEle},"Unlimited Event Type"))))))})),Ze=Object(de.a)((function(e){return{checkoutContainer:{flex:"1 1 auto",boxShadow:"inset 0 15px 15px -20px #305490",background:e.palette.secondary.light},checkout:{width:"450px",height:"450px",margin:"5rem auto",padding:"2rem 3rem 3rem",display:"flex",flexDirection:"column",justifyContent:"space-between"},successMessage:{color:"green",marginTop:"0.5rem"},checkoutText:{"& h4":{color:"orange",marginBottom:"1rem",fontWeight:"bold"}},cardForm:{display:"flex",flexDirection:"column","& label":{marginBottom:"1rem",fontSize:"0.75rem",fontWeight:"bold"}},cardInput:{border:"1px solid ".concat(e.palette.secondary.main),borderRadius:"5px"},submitBtn:{background:e.palette.purple.main,color:"white",border:"none","&:hover":{background:e.palette.purple.main}},loaderContainer:{display:"flex",justifyContent:"center"}}})),$e=a(60);a(130);var Ke=function(e){var t=e.user,a=e.setUser,i=Ze(),l=Object($e.useStripe)(),c=Object($e.useElements)(),o=Object(n.useState)(!1),m=Object(h.a)(o,2),s=m[0],u=m[1],d=Object(n.useState)(null),p=Object(h.a)(d,2),f=p[0],g=p[1],b=Object(n.useState)(!1),v=Object(h.a)(b,2),x=v[0],y=v[1];function C(e){u(!0),fetch("/api/subscription/".concat(t.sub),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t.email,payment_method:e.id})}).then((function(e){return e.json()})).then((function(e){u(!1);var n=e.latest_invoice.payment_intent;if(n){var r=n.client_secret;if("requires_action"===n.status)l.confirmCardPayment(r).then((function(e){e.error?g(e.error):y(!0)}));else{var i=t;i.subscriber=!0,a(i),y(!0)}}}))}function j(){return(j=Object(We.a)(Ie.a.mark((function e(a){var n;return Ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),l&&c){e.next=3;break}return e.abrupt("return");case 3:return n=c.getElement($e.CardElement),e.next=6,l.createPaymentMethod({type:"card",card:n,billing_details:{email:t.email}}).then((function(e){var t=e.paymentMethod,a=e.error;a||C(t),g(a)}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement("main",{className:i.checkoutContainer},r.a.createElement("form",{onSubmit:function(e){return j.apply(this,arguments)}},r.a.createElement(E.a,{elevation:6,className:i.checkout},r.a.createElement("div",{className:i.checkoutText},r.a.createElement(M.a,{align:"center",variant:"h4"},"Subscription"),r.a.createElement(M.a,{align:"center",variant:"body1"},"Complete the form below to subscribe to our premium plan."),x?r.a.createElement(M.a,{align:"center",className:i.successMessage,variant:"h6",color:"primary"},"Thank you! You are subscribed."):null),f?r.a.createElement(M.a,{align:"center",color:"error"},f.message):r.a.createElement("p",null," "),r.a.createElement("div",{className:i.cardForm},r.a.createElement("label",null,"Enter Card Information"),r.a.createElement("div",{className:i.cardInput},r.a.createElement($e.CardElement,{className:"card-Element",options:{style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"}}}}))),s?r.a.createElement("div",{className:i.loaderContainer},r.a.createElement(Ge.a,{size:38,className:i.loader})):r.a.createElement(_.a,{disabled:!l||!0===s,size:"large",variant:"contained",className:i.submitBtn,type:"submit"},"Checkout"))))},Qe=Object(fe.a)((function(){var e=pe(),t=Object(n.useState)({meetings:[]}),a=Object(h.a)(t,2),i=a[0],l=a[1],c=Object(n.useState)(0),m=Object(h.a)(c,2),s=m[0],u=m[1],d=Object(n.useState)(!1),p=Object(h.a)(d,2),f=p[0],g=p[1];return Object(n.useEffect)((function(){var e,t=P.getSub();(e=t,N.a.get("".concat(w,"/").concat(e)).then((function(e){return e})).catch((function(e){return{error:e.response.data}}))).then((function(e){l(e.data)})).catch((function(e){console.error("Error: "+e)}))}),[]),r.a.createElement("div",{className:e.container},r.a.createElement(Ce,{picture:i.picture,name:i.fullName}),r.a.createElement(o.d,null,r.a.createElement(o.b,{exact:!0,path:"/dashboard/user/upgrade"},r.a.createElement(qe,{user:i,setUser:l})),r.a.createElement(o.b,{exact:!0,path:"/dashboard/user/upgrade/checkout"},r.a.createElement(Ke,{user:i,setUser:l})),r.a.createElement(o.b,{path:"/"},r.a.createElement("main",{className:e.dashBody},r.a.createElement("div",{className:e.subHeader},r.a.createElement("h1",null,"My CalendApp"),r.a.createElement(ge.a,{value:s,onChange:function(e,t){u(t)},indicatorColor:"primary",textColor:"primary"},r.a.createElement(he.a,{label:"Event Types"}),r.a.createElement(he.a,{label:"Scheduled Events"}))),r.a.createElement(Ne,{value:s,index:0},r.a.createElement("header",{className:e.panelHeader},r.a.createElement("div",{className:e.profileContainer},r.a.createElement(be.a,{src:i.picture}),r.a.createElement("div",{className:e.profileInfo},r.a.createElement("span",null,i.fullName),r.a.createElement("span",null,"calendapp.com/",i.url))),i.subscriber?r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,{onClick:function(){g(!0)},className:e.addEventBtn,size:"large",variant:"outlined"},"+ New Event Type"),r.a.createElement(De,{renderNewMeeting:function(e){var t=Object.assign({},i);t.meetings.push(e),l(t)},sub:i.sub,open:f,handleClose:function(){g(!1)}})):null),r.a.createElement("section",{className:e.events},i.meetings.filter((function(e){return!!i.subscriber||60===e.duration})).map((function(e,t){return r.a.createElement(xe,{url:i.url,user:"".concat(i.given_name," ").concat(i.family_name),key:t,duration:e.duration,meetingName:e.meetingName})}))),r.a.createElement(_.a,{size:"large",variant:"contained",className:e.getStartedBtn},"Getting Started Guide")),r.a.createElement(Ne,{value:s,index:1},r.a.createElement("section",{className:e.events},r.a.createElement(Ye,{user:i._id,timezone:i.timezone})))))))})),Ve=Object(de.a)({calendarContainer:{display:"flex",justifyContent:"flex-start",margin:"5rem auto",width:"65%",height:"700px",maxWidth:"1100px"},calendar:{fontSize:"1.2rem",paddingRight:"2rem","& h5":{marginBottom:"1.5rem",color:"#484848",fontWeight:"bold"}},eventInfo:{width:"385px",padding:"1.5rem","& h4":{color:"#484848",letterSpacing:"1px",fontWeight:"bold"},"& h6":{color:"gray",marginBottom:"0.5rem"}},duration:{color:"grey",marginTop:"0.5rem",display:"flex","& p":{marginLeft:"0.5rem"}},selectDay:{display:"flex",padding:"2rem 0 2rem 2rem"},meetingName:{textTransform:"capitalize"},timezone:{width:"400px",padding:"1rem 0.4rem"},"@media (max-width: 1600px)":{eventInfo:{textAlign:"center",width:"100%"},calendarContainer:{flexDirection:"column",height:"100%",width:"50%"},duration:{justifyContent:"center"},calendar:{paddingRight:"0"}},"@media (max-width: 1400px)":{calendarContainer:{width:"55%"}},"@media (max-width: 1260px)":{calendarContainer:{width:"70%"}},"@media (max-width: 1000px)":{calendarContainer:{width:"85%"}}}),Xe=a(95),et=Object(de.a)({timeSlotContainer:{minWidth:"250px",display:"flex",flexDirection:"column",paddingTop:"4.2rem","& p":{margin:"0 0 1rem 0",fontSize:"1.1rem"}},btns:{overflowY:"scroll",maxWidth:"250px",maxHeight:"650px"},loader:{display:"flex",justifyContent:"center",marginTop:"1rem",overflowY:"hidden !important"}}),tt=Object(de.a)({container:{display:"flex"},button:{flex:"1",width:"100%",border:"1px solid orange",fontWeight:"bold",color:"orange",height:"52px",backgroundColor:"Transparent",borderRadius:"3px",fontSize:"1rem",margin:"5px",cursor:"pointer","&:hover":{border:"2px solid darkorange"},"&:focus":{outline:"0"}},confirmBtn:{flex:"1",margin:"5px",fontSize:"1rem",fontWeight:"bold",cursor:"pointer",height:"52px",color:"#eee",backgroundColor:"darkorange",borderRadius:"3px",border:"none"}});var at=function(e){var t=e.time,a=e.userName,i=e.meeting,l=e.clientTz,c=tt(),m=Object(n.useState)(!1),s=Object(h.a)(m,2),u=s[0],d=s[1],p=Object(o.g)(),f=Object(o.i)(),g=f.eventDuration,b=f.url;return r.a.createElement("div",{className:c.container},r.a.createElement("button",{onClick:function(){d(!u)},className:c.button},Y.a.tz(t,l).format("h:mma")),u?r.a.createElement("button",{onClick:function(){p.push({pathname:"/".concat(b,"/").concat(g,"/confirm"),state:{name:a,meeting:i,time:t,clientTz:l}})},className:c.confirmBtn},"Confirm"):null)};var nt=function(e){var t=e.isLoading,a=e.availableTimes,n=e.date,i=e.userName,l=e.meeting,c=e.clientTz,o=et();return r.a.createElement("div",{className:o.timeSlotContainer},r.a.createElement("p",null,n),r.a.createElement("div",{className:o.btns},t?r.a.createElement("div",{className:o.loader},r.a.createElement(Ge.a,null)):a.map((function(e,t){return r.a.createElement(at,{userName:i,meeting:l,key:t,time:e,clientTz:c})}))))};a(131);var rt=function(){var e=Ve(),t=Object(n.useState)(Y.a.tz.guess()),a=Object(h.a)(t,2),i=a[0],l=a[1],c=Y.a.tz(i),m=Object(n.useState)(null),s=Object(h.a)(m,2),u=s[0],d=s[1],p=Object(n.useState)(null),f=Object(h.a)(p,2),g=f[0],x=f[1],y=Object(n.useState)(""),j=Object(h.a)(y,2),N=j[0],O=j[1],w=Object(n.useState)(!1),k=Object(h.a)(w,2),T=k[0],S=k[1],z=Object(n.useState)(""),D=Object(h.a)(z,2),B=D[0],I=D[1],W=Object(n.useState)(!1),P=Object(h.a)(W,2),A=P[0],F=P[1],L=Object(n.useState)([]),R=Object(h.a)(L,2),_=R[0],U=R[1],H=Object(n.useState)([]),G=Object(h.a)(H,2),J=G[0],q=G[1],Z=Object(n.useState)(c.month()),$=Object(h.a)(Z,2),Q=$[0],V=$[1],X=Object(o.i)(),ee=X.eventDuration,te=X.url;return Object(n.useEffect)((function(){fetch("/api/user/".concat(te,"/").concat(ee)).then(me).then((function(e){return e.json()})).then((function(e){e.family_name?O(e.given_name+" "+e.family_name):O(e.given_name);var t=e.meetings.filter((function(e){return e.duration===parseInt(ee)}));I(t[0])})).catch((function(e){return console.log("Error "+e)}))}),[te,ee]),Object(n.useEffect)((function(){fetch("/api/availability/days?month=".concat(Q,"&meetTime=").concat(ee,"&clientTz=").concat(i,"&uniqueurl=").concat(te)).then((function(e){return e.json()})).then((function(e){q(e.days),F(!1),d(null)}))}),[i,Q,ee,te]),r.a.createElement(E.a,{elevation:6,className:e.calendarContainer},r.a.createElement("div",{className:e.eventInfo},r.a.createElement(M.a,{variant:"h6"},N),r.a.createElement(M.a,{className:e.meetingName,variant:"h4"},B.meetingName),r.a.createElement("div",{className:e.duration},r.a.createElement(b.a,{size:20}),r.a.createElement(M.a,{variant:"body1"},ee," min"))),r.a.createElement(C.a,{orientation:"vertical"}),r.a.createElement("div",{className:e.selectDay},r.a.createElement("div",{className:e.calendar},r.a.createElement(M.a,{variant:"h5"},"Select a Date & Time"),r.a.createElement(Xe.a,{onActiveStartDateChange:function(e){V(e.activeStartDate.getMonth())},tileContent:function(e){return e.date.getMonth()===c.month()&&e.date.getDate()===c.date()?r.a.createElement("div",{id:"today"},"*"):null},minDate:new Date(Y()().tz(i).format()),maxDate:function(){var e=new Date;return new Date(e.setMonth(e.getMonth()+3,31))}(),onClickDay:function(e){var t=e.getDate(),a=e.getMonth(),n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.getDay()],r=function(e){return["January","February","March","April","May","June","July","August","September","October","November","December"][e]}(e.getMonth());d(e),x("".concat(n,", ").concat(r," ").concat(t)),F(!0),S(!0),function(e,t){fetch("/api/availability/timeslots?month=".concat(t,"&day=").concat(e,"&meetTime=").concat(ee,"&clientTz=").concat(i,"&uniqueurl=").concat(te)).then((function(e){return e.json()})).then((function(e){U(e.slots),S(!1)})).catch((function(e){return console.log(e)}))}(t,a)},value:u,tileDisabled:function(e){var t=e.date.getDate();if(J.indexOf(t)<0)return!0}}),r.a.createElement(K.a,{id:"timezone-field",disableClearable:!0,className:e.timezone,value:i,options:Y.a.tz.names(),getOptionLabel:function(e){return e.replace("_"," ")+" (GMT"+Y.a.tz(e).format("Z")+")"},renderInput:function(e){return r.a.createElement(v.a,Object.assign({},e,{label:"Type a city or zone",variant:"outlined"}))},onChange:function(e,t){return l(t)}})),A?r.a.createElement(nt,{userName:N,meeting:B,availableTimes:_,date:g,isLoading:T,clientTz:i}):null))},it=Object(de.a)({paper:{padding:"1.5rem",display:"flex",flexDirection:"column",justifyContent:"space-around",margin:"10rem auto",width:"600px",height:"400px"},textContainer:{display:"flex",paddingLeft:"4rem",flexDirection:"column",justifyContent:"space-around"},headerText:{"& h4":{color:"#484848",marginBottom:"0.5rem"},"& p":{marginBottom:"1rem"}},meetingIcon:{height:"23px",width:"23px",borderRadius:"50%",background:"darkorange"},durationContainer:{display:"flex","& h5":{marginLeft:"0.5rem",textTransform:"capitalize",fontWeight:"450"}},apptContainer:{display:"flex",color:"purple",marginTop:"0.5rem","& h6":{marginLeft:"0.5rem"}},timezone:{display:"flex",color:"gray",marginTop:"0.5rem","& h6":{marginLeft:"0.5rem"}}});var lt=function(){var e=it(),t=Object(o.h)();return Object(n.useEffect)((function(){"demo"===t.state.url&&alert("Meeting was not scheduled. Thank you for visiting!")}),[t.state.url]),r.a.createElement(E.a,{elevation:4,className:e.paper},r.a.createElement("div",{className:e.headerText},r.a.createElement(M.a,{align:"center",variant:"h4"},"Confirmed"),r.a.createElement(M.a,{align:"center",variant:"body1"},"You are scheduled with ",t.state.name),r.a.createElement(C.a,null)),r.a.createElement("div",{className:e.textContainer},r.a.createElement("div",{className:e.durationContainer},r.a.createElement("div",{className:e.meetingIcon}),r.a.createElement(M.a,{variant:"h5"},t.state.meetingName)),r.a.createElement("div",{className:e.apptContainer},r.a.createElement(b.d,{size:23}),r.a.createElement(M.a,{variant:"h6"},t.state.apptTime)),r.a.createElement("div",{className:e.timezone},r.a.createElement(b.b,{size:23}),r.a.createElement(M.a,{variant:"h6"},t.state.timezone))),r.a.createElement(M.a,{align:"center",variant:"body1"},"A calendar invitation has been sent to your email address."))},ct=Object(m.a)((function(e){return{appName:{margin:"5rem 0 3rem 0",color:"#ff6d00",textAlign:"center","& span":{color:"rgba(0, 0, 0, 0.87)"}}}}))((function(e){var t=e.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(c.a,null,r.a.createElement(s.a,{theme:g},r.a.createElement(u.a,null),r.a.createElement(o.d,null,r.a.createElement(o.b,{path:"/finish"},r.a.createElement(lt,null)),r.a.createElement(o.b,{exact:!0,path:"/:url/:eventDuration/confirm",component:G}),r.a.createElement(o.b,{exact:!0,path:"/:url/:eventDuration",component:rt}),r.a.createElement(q,{path:"/dashboard",component:Qe}),r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{id:"appName",className:t.appName},"calend",r.a.createElement("span",null,"app")),r.a.createElement(o.d,null,r.a.createElement(o.a,{exact:!0,from:"/",to:"/login"}),r.a.createElement(o.b,{path:"/login"},r.a.createElement(A,{type:"login"})),r.a.createElement(o.b,{path:"/signup"},r.a.createElement(A,{type:"signup"})),r.a.createElement(q,{path:"/profile_settings",type:"profile",activeStep:0,component:ue}),r.a.createElement(q,{path:"/confirm",type:"confirm",activeStep:50,component:ue}),r.a.createElement(q,{path:"/availability",type:"availability",activeStep:100,component:ue})))))))}));l.a.render(r.a.createElement(ct,null),document.getElementById("root"))}},[[111,1,2]]]);
//# sourceMappingURL=main.adfa1237.chunk.js.map